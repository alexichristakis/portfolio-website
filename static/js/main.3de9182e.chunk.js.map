{"version":3,"sources":["context/CursorState.tsx","context/WindowManager.tsx","lib/util.ts","lib/constants.ts","components/scrollbar.tsx","components/projectIcon.tsx","components/cursor.tsx","assets/icons/paint_party.png","assets/icons/unexpected.jpg","assets/icons/herd.jpg","assets/icons/evently.jpg","assets/icons/sesh.jpg","assets/icons/accordion.jpg","assets/icons/twitterlytics.png","assets/icons/website.jpg","assets/icons/photography.jpg","assets/icons/svg.tsx","assets/icons/index.ts","assets/icons/screentime.jpg","assets/icons/resume.png","components/window.tsx","assets/projects/resume.png","assets/projects/paint-party/canvases.png","assets/projects/paint-party/color_editor.png","assets/projects/paint-party/draw.png","assets/projects/paint-party/gallery.png","assets/projects/paint-party/join.png","assets/projects/paint-party/deep-sea.gif","assets/projects/screentime/form_1.png","assets/projects/screentime/tooltip_1.png","assets/projects/screentime/tooltip_2.png","assets/projects/screentime/viz_1.png","assets/projects/index.ts","assets/projects/screentime/viz_2.png","assets/projects/screentime/generate.png","assets/projects/website/graphics.jpeg","assets/projects/website/photos.jpeg","assets/projects/website/design.jpeg","assets/projects/accordion/cover.png","assets/projects/accordion/1.png","assets/projects/accordion/2.png","assets/projects/accordion/3.png","assets/projects/accordion/4.png","assets/projects/accordion/5.png","assets/projects/accordion/6.png","assets/projects/accordion/7.png","assets/projects/accordion/8.png","assets/projects/accordion/full.png","components/gallery.tsx","components/projects.tsx","context/ElevationManager.tsx","context/Projects.tsx","hooks/useMountEffect.ts","hooks/useCursorEvents.ts","hooks/useWindows.ts","hooks/useEvents.ts","hooks/useSkewAnimation.ts","hooks/useMeasure.ts","hooks/useProject.ts","hooks/useElevatedElement.ts","App.tsx","hooks/useGestureOverrides.ts","serviceWorker.ts","index.tsx"],"names":["CursorEventType","WindowState","CursorStateContext","createContext","CursorStateProvider","children","pressed","useRef","target","useSpring","xy","config","duration","mouse","set","useEvents","send","subscribe","useGesture","onMove","onMouseDown","onMouseUp","domTarget","window","getCurrentPosition","x","get","y","Provider","value","position","lock","lockedTarget","current","type","LOCK","unlock","UNLOCK","setMultipleRefs","refs","element","ref","clamp","val","min","max","Math","invlerp","a","PROJECT_SIZE","INITIAL_RECT","width","height","ClassPrefix","ScrollBar","memo","offset","contentHeight","visible","opacity","useMeasure","scroll","to","range","output","extrapolate","div","className","style","transform","ProjectIcon","id","useState","isHovered","setIsHovered","containerRef","contentRef","isDragSession","useProject","icon","iconContent","backgroundColor","foregroundColor","initialX","initialY","initialZoom","zoom","scale","useElevatedElement","ElevatedElementTier","ICON","zIndex","raise","useMountEffect","useWindows","handlers","onOpen","onClose","sourceRef","openWindow","useSkewAnimation","rotation","resetRotation","onHover","minScroll","active","rest","onDrag","first","onDragEnd","dragging","eventOptions","passive","drag","threshold","onPinch","vd","velocities","cancel","canceled","prevZoom","nextZoom","immediate","onWheel","pinching","dy","delta","contentTransform","containerTransform","z","s","t","pointerEvents","cn","classNames","draggable","alt","src","ProjectIcons","projectIds","useContext","ProjectContext","map","Cursor","offsetX","offsetY","cursorStyle","CURSOR","useCursorEvents","prevX","prevY","translateX","translateY","SVG","props","viewBox","fill","x1","y1","x2","y2","stroke","strokeWidth","strokeLinecap","Icons","paintParty","screentime","unexpected","resume","herd","evently","sesh","accordion","twitterlytics","website","photography","WINDOW_MARGIN","getNextOffset","prevOffset","prevSize","nextSize","container","diff","nextOffset","Window","onRequestClose","destroyWindow","content","aspectRatio","windowRef","isClosing","isOpening","measureSourceRect","initialWidth","initialHeight","initialRect","openAmount","scaleX","scaleY","api","Promise","all","start","innerWidth","innerHeight","then","WINDOW","lower","throttle","ev","nextOffsetX","nextOffsetY","currentWidth","currentHeight","prevWidth","prevHeight","getMaxSize","maxWidth","maxHeight","nextWidth","nextHeight","close","stop","requestAnimationFrame","destRect","scaleXDest","scaleYDest","translate","iconTransform","iconOpacity","contentOpacity","img","onClick","p","n","ProjectAssets","paintpartyCanvases","paintpartyColorEditor","paintpartyDraw","paintpartyGallery","paintpartyJoin","paintpartyDeepSea","screentimeForm1","screentimeTooltip1","screentimeTooltip2","screentimeViz2","screentimeGenerate","screentimeViz1","websiteGraphics","websitePhotos","websiteDesign","accordionCover","accordion1","accordion2","accordion3","accordion4","accordion5","accordion6","accordion7","accordion8","accordionFull","GalleryImage","caption","Gallery","images","image","idx","IconContentContainer","Container","Header","title","subtitle","links","Links","uri","open","ProjectContent","copy","ProjectIconContent","projects","paintparty","photos","WindowManagerContext","WindowManagerProvider","sourceRefs","windowManagerRef","registerWindow","useCallback","OPEN","state","useMemo","WindowManager","CLOSING","onDestroy","CLOSED","forwardRef","openWindows","setOpenWindows","useImperativeHandle","w","cb","find","prev","filter","handleOnDestroy","Object","keys","MARGIN","NUM_PER_ROW","floor","b","low","high","random","getPosition","index","positions","getInitialPosition","size","maxX","maxY","p1","values","forEach","p2","z1","z2","right2","bottom","bottom2","overlap","left1","top1","left2","top2","right1","bottom1","getDiff","diffX","diffY","ProjectProvider","initialPositions","reduce","ElevationManagerContext","ElevationManagerProvider","elements","updateElements","newIndex","tier","newElements","e","splice","length","elevations","acc","getElevation","registerElement","initial","removeElement","effect","useEffect","useLayoutMountEffect","useLayoutEffect","unsubscribe","onLock","onUnlock","payload","windowId","listeners","listener","l","push","containerRect","sizeThrottle","rotateX","rotateY","rx","ry","rect","hovering","px","py","getBoundingClientRect","updateRect","calc","forceRender","setRect","measure","newRect","handleRaise","handleLower","btoa","toString","substring","updatedTier","App","usePinch","preventDefault","document","addEventListener","removeEventListener","useGestureOverrides","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.3de9182e.chunk.js","sourcesContent":["import { createContext, useRef } from \"react\";\nimport { SpringValue, useSpring } from \"react-spring\";\n\nimport { Events, useEvents } from \"../hooks\";\nimport { useGesture } from \"react-use-gesture\";\n\nexport type CursorMoveHandlers = {\n  handler: {\n    onMouseMove: (event: React.MouseEvent<HTMLDivElement>) => void;\n    onTouchMove: (event: React.TouchEvent<HTMLDivElement>) => void;\n  };\n};\n\nexport enum CursorEventType {\n  \"LOCK\",\n  \"UNLOCK\",\n}\n\nexport type CursorTargetConfig = {\n  scale?: number;\n  zIndex?: number;\n  throttle?: boolean;\n  draggable?: \"x\" | \"y\" | \"xy\";\n};\n\nexport type CursorTarget = CursorTargetConfig & {\n  rect: DOMRect;\n};\n\nexport type CursorEvent = {\n  type: CursorEventType;\n  target: CursorTarget;\n  position: { x: number; y: number };\n};\n\nexport type CursorPositionState = {\n  position: SpringValue<number[]>;\n  target: React.RefObject<CursorTarget>;\n  pressed: React.RefObject<boolean>;\n  lock: (target: CursorTarget) => void;\n  unlock: (target: CursorTarget) => void;\n  subscribe: Events<CursorEvent>[\"subscribe\"];\n};\n\nexport const CursorStateContext = createContext({} as CursorPositionState);\n\nexport const CursorStateProvider: React.FC = ({ children }) => {\n  const pressed = useRef(false);\n  const target = useRef<CursorTarget | null>(null);\n\n  const [mouse, set] = useSpring(() => ({\n    xy: [-10, -10],\n    pressed: false,\n    config: { duration: 0 },\n  }));\n\n  const { send, subscribe } = useEvents<CursorEvent>();\n\n  useGesture(\n    {\n      onMove: ({ xy }) => set({ xy }),\n      onMouseDown: () => set({ pressed: true }),\n      onMouseUp: () => set({ pressed: false }),\n    },\n    { domTarget: window }\n  );\n\n  const getCurrentPosition = () => ({\n    x: mouse.xy.get()[0],\n    y: mouse.xy.get()[1],\n  });\n\n  const lock = (lockedTarget: CursorTarget) => {\n    if (!(pressed.current && target.current)) {\n      target.current = lockedTarget;\n      send({\n        type: CursorEventType.LOCK,\n        target: lockedTarget,\n        position: getCurrentPosition(),\n      });\n    }\n  };\n\n  const unlock = (lockedTarget: CursorTarget) => {\n    target.current = null;\n    send({\n      type: CursorEventType.UNLOCK,\n      target: lockedTarget,\n      position: getCurrentPosition(),\n    });\n  };\n\n  return (\n    <CursorStateContext.Provider\n      value={{ position: mouse.xy, pressed, subscribe, target, lock, unlock }}\n    >\n      {children}\n    </CursorStateContext.Provider>\n  );\n};\n","import {\n  createContext,\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\n\nimport { useEvents, Events } from \"../hooks\";\nimport { Window } from \"../components\";\n\nexport type WindowConfig = {\n  id: string;\n  sourceRef: React.RefObject<HTMLElement>;\n};\n\nexport type WindowEventHandlers = {\n  onRequestClose?: () => void;\n  onClose?: () => void;\n  onOpen?: () => void;\n};\n\ntype WindowManagerState = {\n  registerWindow: (window: WindowConfig) => void;\n  openWindow: (id: string) => void;\n  subscribe: Events<WindowEvent>[\"subscribe\"];\n};\n\nexport enum WindowState {\n  OPEN,\n  CLOSING,\n  CLOSED,\n}\n\ntype WindowEvent = {\n  type: WindowState;\n  id: string;\n};\n\ntype WindowMap = {\n  [id: string]: React.RefObject<HTMLElement>;\n};\n\ninterface WindowManagerProps {\n  onRequestClose: (id: string) => void;\n  onDestroy: (id: string) => void;\n}\n\ntype WindowManagerRef = {\n  open: (config: WindowConfig, cb?: () => void) => void;\n};\n\nexport const WindowManagerContext = createContext({} as WindowManagerState);\n\nexport const WindowManagerProvider: React.FC = ({ children }) => {\n  const sourceRefs = useRef<WindowMap>({});\n  const windowManagerRef = useRef<WindowManagerRef>(null);\n\n  const { send, subscribe } = useEvents<WindowEvent>();\n\n  const registerWindow = useCallback(({ id, sourceRef }: WindowConfig) => {\n    sourceRefs.current[id] = sourceRef;\n  }, []);\n\n  const openWindow = useCallback(\n    (id: string) => {\n      if (sourceRefs.current[id]) {\n        const config = { id, sourceRef: sourceRefs.current[id] };\n        windowManagerRef.current?.open(config, () =>\n          requestAnimationFrame(() => {\n            send({ type: WindowState.OPEN, id: id });\n          })\n        );\n      }\n    },\n    [send]\n  );\n\n  const requestClose = (id: string) => send({ type: WindowState.CLOSING, id });\n  const destroy = (id: string) => send({ type: WindowState.CLOSED, id });\n\n  const state = useMemo(\n    () => ({\n      subscribe,\n      openWindow,\n      registerWindow,\n    }),\n    [subscribe, openWindow, registerWindow]\n  );\n\n  return (\n    <WindowManagerContext.Provider value={state}>\n      {children}\n      <WindowManager\n        ref={windowManagerRef}\n        onRequestClose={requestClose}\n        onDestroy={destroy}\n      />\n    </WindowManagerContext.Provider>\n  );\n};\n\nconst WindowManager = forwardRef<WindowManagerRef, WindowManagerProps>(\n  ({ onRequestClose, onDestroy }, ref) => {\n    const [openWindows, setOpenWindows] = useState<WindowConfig[]>([]);\n\n    useImperativeHandle(ref, () => ({\n      open: (w, cb) => {\n        if (!openWindows.find(({ id }) => id === w.id)) {\n          setOpenWindows((prev) => [...prev, w]);\n          cb?.();\n        }\n      },\n    }));\n\n    const handleOnDestroy = (id: string) => {\n      onDestroy(id);\n      requestAnimationFrame(() => {\n        setOpenWindows((prev) => prev.filter((w) => w.id !== id));\n      });\n    };\n\n    return (\n      <div className=\"absolute-fill pointer-none\">\n        {openWindows.map(({ id, sourceRef }) => (\n          <Window\n            key={id}\n            id={id}\n            sourceRef={sourceRef}\n            onRequestClose={() => onRequestClose(id)}\n            destroyWindow={() => handleOnDestroy(id)}\n          />\n        ))}\n      </div>\n    );\n  }\n);\n","import { Ref, MutableRefObject } from \"react\";\nimport { Vector2D, SpringVector2D } from \"../types\";\n\nexport const setMultipleRefs = <RefType = any>(\n  ...refs: ReadonlyArray<Ref<RefType>>\n) => (element: RefType) => {\n  for (const ref of refs) {\n    if (typeof ref === \"function\") {\n      ref(element);\n    } else if (ref != null) {\n      (ref as MutableRefObject<any>).current = element;\n    }\n  }\n};\n\nexport const getVectorVal = (v: SpringVector2D): Vector2D => {\n  let x, y;\n  if (v instanceof Array) {\n    x = v[0].get();\n    y = v[1].get();\n  } else {\n    [x, y] = v.get();\n  }\n  return [x, y];\n};\n\nexport const clamp = (val: number, min: number = 0, max: number = 1) =>\n  Math.min(max, Math.max(val, min));\n\nexport const lerp = (x: number, y: number, a: number) => x * (1 - a) + y * a;\n\nexport const invlerp = (x: number, y: number, a: number) =>\n  clamp((a - x) / (y - x));\n\nexport const range = (\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  a: number\n) => lerp(x2, y2, invlerp(x1, y1, a));\n\nexport const uuid = () => btoa(Math.random().toString()).substring(0, 12);\n","import { Rect } from \"../types\";\n\nexport const BOX_SIZE = 250;\n\nexport const DEFAULT_CURSOR_SIZE = 10;\nexport const LOCKED_CURSOR_BUFFER = 15;\n\nexport const CURSOR_ZINDEX = 4;\nexport const ICON_ZINDEX = 2;\nexport const WINDOW_ZINDEX = 3;\nexport const FOCUSED_ZINDEX = 4;\n\nexport const PROJECT_SIZE = 225;\nexport const ICON_BORDER_RADIUS = 10;\n\nexport const TWEEN_ANIMATION = {\n  type: \"tween\",\n  ease: \"easeOut\",\n  duration: 0.3,\n} as const;\n\nexport const TWEEN_ANIMATION_2 = {\n  type: \"tween\",\n  ease: \"easeOut\",\n  duration: 2,\n} as const;\n\nexport const EASING = {\n  easeOutCirc: (x: number) => Math.sqrt(1 - Math.pow(x - 1, 2)),\n};\n\nexport const INITIAL_RECT: Rect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n};\n","import { useRef, memo } from \"react\";\nimport { animated, SpringValue, useSpring } from \"react-spring\";\n\nimport { useMeasure } from \"../hooks\";\nimport \"./scrollbar.scss\";\n\nexport interface ScrollBarProps {\n  offset: SpringValue<number>;\n  contentHeight: number;\n  visible?: boolean;\n}\n\nconst BAR_HEIGHT = 25;\n\nconst ClassPrefix = \"scrollbar\";\nconst ScrollBar: React.FC<ScrollBarProps> = memo(\n  ({ offset, contentHeight, visible = true }) => {\n    const ref = useRef<HTMLDivElement>(null);\n\n    const { opacity } = useSpring({ opacity: visible ? 1 : 0 });\n    const [{ height }] = useMeasure(ref);\n\n    const scroll = offset\n      .to({\n        range: [-contentHeight, 0],\n        output: [height - BAR_HEIGHT, 0],\n        extrapolate: \"clamp\",\n      })\n      .to((val) => `translateY(${val}px)`);\n\n    return (\n      // @ts-ignore\n      <animated.div ref={ref} className={ClassPrefix} style={{ opacity }}>\n        <animated.div\n          className={`${ClassPrefix}__bar`}\n          style={{ transform: scroll, height: BAR_HEIGHT }}\n        />\n      </animated.div>\n    );\n  }\n);\n\nexport default ScrollBar;\n","import { useState, useRef, useContext } from \"react\";\nimport { animated, to, useSpring } from \"react-spring\";\nimport { useGesture } from \"react-use-gesture\";\nimport classNames from \"classnames\";\n\nimport { setMultipleRefs, clamp, PROJECT_SIZE } from \"../lib\";\nimport { ElevatedElementTier, ProjectContext } from \"../context\";\nimport {\n  useMeasure,\n  useMountEffect,\n  useProject,\n  useElevatedElement,\n  useSkewAnimation,\n  useWindows,\n} from \"../hooks\";\nimport ScrollBar from \"./scrollbar\";\n\nimport \"./projectIcon.scss\";\n\nconst HOVER_SCALE = 1.4;\nconst CLICK_SCALE = 1.2;\nconst INITIAL_SCALE = 1;\n\ninterface ProjectIconProps {\n  id: string;\n}\n\nexport const ProjectIcon: React.FC<ProjectIconProps> = ({ id }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const isDragSession = useRef(false);\n\n  const [\n    { icon, iconContent, backgroundColor, foregroundColor },\n    [initialX, initialY, initialZoom],\n  ] = useProject(id);\n\n  const [{ height: contentHeight }] = useMeasure(contentRef);\n\n  const [{ xy, scroll, zoom, scale, visible }, set] = useSpring(() => ({\n    xy: [0, 0],\n    scroll: 0,\n    zoom: 0,\n    scale: INITIAL_SCALE,\n    visible: true,\n  }));\n\n  const { zIndex, raise } = useElevatedElement(ElevatedElementTier.ICON);\n\n  useMountEffect(() => {\n    set({ zoom: initialZoom });\n  });\n\n  const { sourceRef, openWindow } = useWindows({\n    id,\n    handlers: {\n      onOpen: () => {\n        visible.set(false);\n      },\n      onClose: () => {\n        raise();\n        visible.set(true);\n      },\n    },\n  });\n\n  const handleOnClick = () => {\n    if (!isDragSession.current) {\n      openWindow();\n    }\n  };\n\n  const position = xy.to((x, y) => [x + initialX, y + initialY]);\n\n  const { rotation, resetRotation, onHover, onMove } = useSkewAnimation({\n    ref: containerRef,\n  });\n\n  const minScroll = -contentHeight + PROJECT_SIZE;\n  useGesture(\n    {\n      onMove,\n      onHover: ({ active, ...rest }) => {\n        if (!active) {\n          setIsHovered(false);\n          set({ scroll: 0, scale: INITIAL_SCALE });\n        } else {\n          raise();\n          setIsHovered(true);\n          set({ scroll: minScroll, scale: HOVER_SCALE });\n        }\n\n        onHover({ active, ...rest });\n      },\n      onDrag: ({ offset: [x, y], first }) => {\n        if (first) {\n          isDragSession.current = true;\n          resetRotation();\n        }\n\n        set({ xy: [x, y] });\n      },\n      onDragEnd: () => {\n        set({ scale: HOVER_SCALE });\n      },\n      onMouseDown: () => {\n        set({ scale: CLICK_SCALE });\n        isDragSession.current = false;\n      },\n      onMouseUp: ({ dragging }) => {\n        set({ scale: HOVER_SCALE });\n        if (!dragging) {\n          handleOnClick();\n        }\n      },\n    },\n    {\n      domTarget: containerRef,\n      eventOptions: { passive: true },\n      drag: { threshold: 5 },\n    }\n  );\n\n  useGesture(\n    {\n      onPinch: ({ velocities: [vd], cancel, canceled }) => {\n        if (canceled) return;\n\n        const prevZoom = zoom.get();\n        const nextZoom = clamp(prevZoom + vd / 10, -0.5, 0.25);\n\n        if (nextZoom === 0.25) {\n          openWindow();\n          cancel();\n        } else {\n          set({ zoom: nextZoom, immediate: true });\n        }\n      },\n      onWheel: ({ pinching, delta: [, dy] }) => {\n        if (isHovered && !pinching) {\n          set({ scroll: clamp(scroll.get() - dy * 5, minScroll, 0) });\n        }\n      },\n    },\n    { domTarget: containerRef, eventOptions: { passive: false } }\n  );\n\n  const contentTransform = scroll.to((val) => `translateY(${val}px)`);\n  const containerTransform = to(\n    [\n      position.to((x, y) => `translate(${x}px, ${y}px)`),\n      to([zoom, scale], (z, s) => `scale(${z + s})`),\n    ],\n    (t, s) => `${t} ${s}`\n  );\n\n  const pointerEvents = visible.to((visible) => (visible ? \"all\" : \"none\"));\n  const opacity = visible.to((visible) => (visible ? 1 : 0));\n\n  const cn = \"project-icon\";\n  return (\n    <animated.div\n      className={`${cn}__container`}\n      // @ts-ignore\n      style={{ transform: containerTransform, opacity, pointerEvents, zIndex }}\n    >\n      <animated.div\n        ref={setMultipleRefs(sourceRef, containerRef)}\n        className={classNames(cn, isHovered && `${cn}__shadow`)}\n        style={{\n          transform: rotation,\n          // @ts-ignore\n          \"--project-background\": backgroundColor,\n          \"--project-foreground\": foregroundColor,\n        }}\n      >\n        <animated.div\n          className={`${cn}__content`}\n          ref={contentRef}\n          style={{ transform: contentTransform }}\n        >\n          <img\n            className={`${cn}__image`}\n            draggable={false}\n            alt={`${id} icon`}\n            src={icon}\n          />\n          {iconContent}\n        </animated.div>\n        <ScrollBar\n          offset={scroll}\n          contentHeight={contentHeight - PROJECT_SIZE}\n          visible={isHovered}\n        />\n      </animated.div>\n    </animated.div>\n  );\n};\n\nexport const ProjectIcons: React.FC = () => {\n  const { projectIds } = useContext(ProjectContext);\n  return (\n    <>\n      {projectIds.map((id) => (\n        <ProjectIcon key={id} id={id} />\n      ))}\n    </>\n  );\n};\n","// import { useRef } from \"react\";\nimport { useSpring, animated } from \"react-spring\";\n\nimport { ElevatedElementTier } from \"../context\";\nimport { useCursorEvents, useElevatedElement } from \"../hooks\";\nimport \"./cursor.scss\";\n\nconst CURSOR_SIZE = 10;\nconst ClassPrefix = \"cursor\";\n\n/* some utility functions */\n// const getDiffX = (rect: Rect, x: number) => {\n//   const { x: left, width } = rect;\n//   return left + width / 2 - x;\n// };\n\n// const getDiffY = (rect: Rect, y: number) => {\n//   const { y: top, height } = rect;\n//   return top + height / 2 - y;\n// };\n\n// const getDiff = (rect: Rect, [x, y]: Point2D): Point2D => [\n//   getDiffX(rect, x),\n//   getDiffY(rect, y),\n// ];\n\n// const getCenter = (rect: Rect): Point2D => [\n//   rect.left + rect.width / 2,\n//   rect.top + rect.height / 2,\n// ];\n\nexport const Cursor: React.FC = () => {\n  // const targetWasDragged = useRef(false);\n  const [cursorStyle] = useSpring(() => ({\n    offsetX: 0,\n    offsetY: 0,\n    width: CURSOR_SIZE,\n    height: CURSOR_SIZE,\n  }));\n  // const offsetX = useMotionValue(0);\n  // const offsetY = useMotionValue(0);\n  // const width = useMotionValue(CURSOR_SIZE);\n  // const height = useMotionValue(CURSOR_SIZE);\n\n  const { zIndex } = useElevatedElement(ElevatedElementTier.CURSOR);\n\n  const { position } = useCursorEvents({\n    // onLock: ({ target }) => {\n    //   targetWasDragged.current = false;\n    //   const { rect, scale = 1 } = target;\n    //   const [x, y] = position.get();\n    //   const [diffX, diffY] = getDiff(rect, [x, y]);\n    //   const offsetX = cursorStyle.offsetX.get();\n    //   const offsetY = cursorStyle.offsetY.get();\n    //   console.log({ offsetX: offsetX - diffX, offsetY: offsetY - diffY });\n    //   set({\n    //     offsetX: offsetX - diffX,\n    //     offsetY: offsetY - diffY,\n    //     config: { duration: 0 },\n    //   });\n    //   set({\n    //     offsetX: 0, //offsetX - diffX,\n    //     offsetY: 0, //offsetY - diffY,\n    //     height: rect.height * (scale + 0.1),\n    //     width: rect.width * (scale + 0.1),\n    //   });\n    // },\n    // onUnlock: ({ target }) => {\n    //   targetWasDragged.current = false;\n    //   const { rect } = target;\n    //   const [x, y] = position.get();\n    //   const [diffX, diffY] = getDiff(rect, [x, y]);\n    //   const offsetX = cursorStyle.offsetX.get();\n    //   const offsetY = cursorStyle.offsetY.get();\n    //   set({\n    //     offsetX: offsetX + diffX,\n    //     offsetY: offsetY + diffY,\n    //     config: { duration: 0 },\n    //   });\n    //   set({ offsetX: 0, offsetY: 0, height: CURSOR_SIZE, width: CURSOR_SIZE });\n    //   // const diff = getDiff(rect, { x: x.get(), y: y.get() });\n    //   // offsetX.set(offsetX.get() + diff.x);\n    //   // offsetY.set(offsetY.get() + diff.y);\n    //   // animate(offsetX, 0, offsetTransition);\n    //   // animate(offsetY, 0, offsetTransition);\n    //   // animate(height, CURSOR_SIZE, sizeTransition);\n    //   // animate(width, CURSOR_SIZE, sizeTransition);\n    // },\n  });\n\n  const transform = (prevX: number, prevY: number) => {\n    // const rect = target.current?.rect;\n    // const throttle = target.current?.throttle ?? true;\n    // const draggable = target.current?.draggable;\n    // const isPressed = !!pressed.current;\n\n    let x = prevX;\n    let y = prevY;\n\n    // const offsetX = cursorStyle.offsetX.get();\n    // const offsetY = cursorStyle.offsetY.get();\n\n    return `translate(${x}px, ${y}px)`;\n  };\n\n  const lockedX = (x: number) => {\n    return x;\n  };\n\n  const lockedY = (y: number) => {\n    return y;\n  };\n\n  return (\n    <animated.div\n      className={`${ClassPrefix}__container`}\n      // @ts-ignore\n      style={{ zIndex, transform: position.to(transform), ...cursorStyle }}\n    >\n      <animated.div\n        style={{\n          translateX: cursorStyle.offsetX.to(lockedX),\n          translateY: cursorStyle.offsetY.to(lockedY),\n        }}\n        className={`${ClassPrefix}__content`}\n      />\n    </animated.div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/paint_party.a85616bc.png\";","export default __webpack_public_path__ + \"static/media/unexpected.4e215916.jpg\";","export default __webpack_public_path__ + \"static/media/herd.93642318.jpg\";","export default __webpack_public_path__ + \"static/media/evently.14e720cd.jpg\";","export default __webpack_public_path__ + \"static/media/sesh.12e76de4.jpg\";","export default __webpack_public_path__ + \"static/media/accordion.e90672b8.jpg\";","export default __webpack_public_path__ + \"static/media/twitterlytics.344b6b45.png\";","export default __webpack_public_path__ + \"static/media/website.a99bedf7.jpg\";","export default __webpack_public_path__ + \"static/media/photography.17fd616a.jpg\";","import { SVGProps } from \"react\";\n\ninterface Props extends SVGProps<SVGSVGElement> {}\n\nconst Close: React.FC<Props> = (props) => (\n  <svg width=\"7\" height=\"7\" viewBox=\"0 0 7 7\" fill=\"none\" {...props}>\n    <line\n      x1=\"0\"\n      y1=\"0\"\n      x2=\"7\"\n      y2=\"7\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1\"\n      strokeLinecap=\"round\"\n    />\n    <line\n      x1=\"0\"\n      y1=\"7\"\n      x2=\"7\"\n      y2=\"0\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n\nconst Corner: React.FC<Props> = (props) => (\n  <svg\n    width=\"10\"\n    height=\"10\"\n    viewBox=\"0 0 10 10\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      x=\"0\"\n      y=\"0\"\n      width=\"10\"\n      height=\"10\"\n      rx=\"2\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    />\n  </svg>\n\n  // <svg\n  //   width=\"10\"\n  //   height=\"10\"\n  //   viewBox=\"0 0 10 10\"\n  //   className={className}\n  //   transform={transform}\n  // >\n  //   <rect width=\"10\" height=\"1\" fill=\"currentColor\" />\n  //   <rect width=\"1\" height=\"10\" fill=\"currentColor\" />\n  // </svg>\n);\n\nconst Expand: React.FC<Props> = (props) => (\n  <svg width=\"18\" height=\"17\" viewBox=\"0 0 18 17\" fill=\"none\" {...props}>\n    <path\n      d=\"M3.33071 13.6693L3.65799 7.57299L9.42698 13.342L3.33071 13.6693Z\"\n      fill=\"currentcolor\"\n    />\n    <path\n      d=\"M14.3422 3.33073L14.0149 9.427L8.24592 3.65801L14.3422 3.33073Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport const SVG = {\n  Close,\n  Corner,\n  Expand,\n};\n","import paintParty from \"./paint_party.png\";\nimport unexpected from \"./unexpected.jpg\";\nimport herd from \"./herd.jpg\";\nimport evently from \"./evently.jpg\";\nimport sesh from \"./sesh.jpg\";\nimport resume from \"./resume.png\";\nimport screentime from \"./screentime.jpg\";\nimport accordion from \"./accordion.jpg\";\nimport twitterlytics from \"./twitterlytics.png\";\nimport website from \"./website.jpg\";\nimport photography from \"./photography.jpg\";\n\nconst Icons = {\n  paintParty,\n  screentime,\n  unexpected,\n  resume,\n  herd,\n  evently,\n  sesh,\n  accordion,\n  twitterlytics,\n  website,\n  photography,\n};\n\nexport default Icons;\n\nexport { SVG } from \"./svg\";\n","export default \"data:image/jpeg;base64,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\"","export default \"data:image/png;base64,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\"","import { memo, useRef } from \"react\";\nimport { animated, to, useSpring } from \"react-spring\";\nimport { useGesture } from \"react-use-gesture\";\nimport { SVG } from \"../assets/icons\";\nimport { ElevatedElementTier, WindowConfig } from \"../context\";\nimport {\n  useElevatedElement,\n  useMeasure,\n  useMountEffect,\n  useProject, useSkewAnimation\n} from \"../hooks\";\nimport { clamp, PROJECT_SIZE } from \"../lib\";\nimport \"./window.scss\";\n\ninterface WindowProps extends WindowConfig {\n  onRequestClose: () => void;\n  destroyWindow: () => void;\n}\n\nconst WINDOW_WIDTH = 500;\nconst WINDOW_HEIGHT = 400;\nconst WINDOW_MARGIN = 20;\n\nconst getNextOffset = (\n  prevOffset: number,\n  prevSize: number,\n  nextSize: number,\n  container: number\n) => {\n  const diff = (nextSize - prevSize) / 2;\n  let nextOffset = prevOffset - diff;\n  if (nextOffset + nextSize > container) {\n    nextOffset = nextOffset - diff;\n  }\n  return nextOffset < 0 ? prevOffset : nextOffset;\n};\n\nconst cn = \"window\";\nexport const Window: React.FC<WindowProps> = memo(\n  ({ id, sourceRef, onRequestClose, destroyWindow }) => {\n    const [\n      { content, aspectRatio, icon, backgroundColor, foregroundColor },\n    ] = useProject(id);\n\n    const contentRef = useRef<HTMLDivElement>(null);\n    const windowRef = useRef<HTMLDivElement>(null);\n    const isClosing = useRef(false);\n    const isOpening = useRef(true);\n\n    const [, measureSourceRect] = useMeasure(sourceRef, false);\n\n    const initialWidth = WINDOW_WIDTH;\n    const initialHeight = aspectRatio\n      ? initialWidth * aspectRatio\n      : WINDOW_HEIGHT;\n\n    /* functions in case the window size changes*/\n    const getMaxSize = (innerWidth: number, innerHeight: number) => [\n      aspectRatio\n        ? aspectRatio * innerWidth > innerHeight\n          ? (innerHeight - WINDOW_MARGIN) / aspectRatio\n          : innerWidth - WINDOW_MARGIN\n        : innerWidth - WINDOW_MARGIN,\n      aspectRatio\n        ? aspectRatio * innerWidth > innerHeight\n          ? innerHeight - WINDOW_MARGIN\n          : aspectRatio * (innerWidth - WINDOW_MARGIN)\n        : innerHeight - WINDOW_MARGIN,\n    ];\n\n    const initialRect = measureSourceRect();\n    const [\n      { openAmount, width, height, scaleX, scaleY, offsetX, offsetY },\n      api\n    ] = useSpring(() => ({\n      openAmount: 0,\n      offsetX: initialRect.x,\n      offsetY: initialRect.y,\n      scaleX: initialRect.width / initialWidth,\n      scaleY: initialRect.height / initialHeight,\n      width: initialWidth,\n      height: initialHeight,\n    }));\n\n    useMountEffect(() => {\n      Promise.all(\n        api.start({\n          openAmount: 1,\n          offsetX: (window.innerWidth - width.get()) / 2,\n          offsetY: (window.innerHeight - height.get()) / 2,\n          scaleX: 1,\n          scaleY: 1,\n        })\n      ).then(() => (isOpening.current = false));\n    });\n\n    const { zIndex, raise, lower } = useElevatedElement(\n      ElevatedElementTier.WINDOW\n    );\n\n    const { resetRotation, rotation, onMove, onHover } = useSkewAnimation({\n      ref: windowRef,\n      throttle: 7,\n    });\n\n    useGesture(\n      {\n        onHover,\n        onMove: (ev) => {\n          if (!isClosing.current) {\n            onMove(ev);\n          }\n        },\n        onDrag: ({ first, delta: [x, y] }) => {\n          if (first) {\n            resetRotation();\n          }\n\n          const nextOffsetX = offsetX.get() + x;\n          const nextOffsetY = offsetY.get() + y;\n          const currentWidth = width.get();\n          const currentHeight = height.get();\n\n          if (\n            currentWidth + nextOffsetX < window.innerWidth &&\n            nextOffsetX > 0\n          ) {\n            offsetX.set(nextOffsetX);\n          }\n\n          if (\n            currentHeight + nextOffsetY < window.innerHeight &&\n            nextOffsetY > 0\n          ) {\n            offsetY.set(nextOffsetY);\n          }\n        },\n        onMouseDown: () => raise(),\n      },\n      { domTarget: contentRef, eventOptions: { passive: true } }\n    );\n\n    useGesture(\n      {\n        onPinch: ({ velocities: [vd], canceled, cancel, first }) => {\n          if (canceled || isClosing.current || isOpening.current) {\n            return;\n          }\n          if (first) {\n            raise();\n          }\n\n          const prevWidth = width.get();\n          const prevHeight = height.get();\n\n          const s = 1 + vd / 10;\n\n          const { innerWidth, innerHeight } = window;\n          const [maxWidth, maxHeight] = getMaxSize(innerWidth, innerHeight);\n          const nextWidth = clamp(prevWidth * s, initialWidth, maxWidth);\n          const nextHeight = clamp(prevHeight * s, initialHeight, maxHeight);\n\n          if (\n            vd < 0 &&\n            nextHeight === initialHeight &&\n            nextWidth === initialWidth\n          ) {\n            close();\n            cancel();\n          } else {\n            api.start({\n              offsetX: getNextOffset(\n                offsetX.get(),\n                prevWidth,\n                nextWidth,\n                innerWidth\n              ),\n              offsetY: getNextOffset(\n                offsetY.get(),\n                prevHeight,\n                nextHeight,\n                innerHeight\n              ),\n              width: nextWidth,\n              height: nextHeight,\n              immediate: true,\n            });\n          }\n        },\n      },\n      { domTarget: contentRef, eventOptions: { passive: false } }\n    );\n\n    const close = () => {\n      isClosing.current = true;\n\n      // stop width and height to get proper measurements below.\n      api.stop([\"width\", \"height\"]);\n      lower();\n      onRequestClose();\n      resetRotation();\n      requestAnimationFrame(async () => {\n        const destRect = measureSourceRect();\n        if (destRect) {\n          const scaleXDest = destRect.width / width.get();\n          const scaleYDest = destRect.height / height.get();\n\n          await Promise.all(\n            api.start({\n              openAmount: 0,\n              offsetX: destRect.x,\n              offsetY: destRect.y,\n              scaleX: scaleXDest,\n              scaleY: scaleYDest,\n            })\n          );\n          destroyWindow()\n        }\n      });\n    };\n\n    const translate = to(\n      [offsetX, offsetY],\n      (x, y) => `translate(${x}px, ${y}px)`\n    );\n\n    const contentTransform = to(\n      [scaleX, scaleY],\n      (scaleX, scaleY) => `scale(${scaleX}, ${scaleY})`\n    );\n\n    const iconTransform = to(\n      [width, height, scaleX, scaleY],\n      (width, height, scaleX, scaleY) =>\n        `scale(\n          ${(width / PROJECT_SIZE) * scaleX}, \n          ${(height / PROJECT_SIZE) * scaleY}\n        )`\n    );\n\n    const iconOpacity = openAmount.to({\n      range: [0, 0.75],\n      output: [1, 0],\n    });\n\n    const contentOpacity = openAmount.to({\n      range: [0, 0.1, 0.5],\n      output: [0, 0, 1],\n    });\n\n    return (\n      <animated.div\n        ref={windowRef}\n        className={`${cn}__container`}\n        // @ts-ignore\n        style={{ width, height, transform: translate, zIndex }}\n      >\n        <animated.img\n          className={`${cn}__icon`}\n          alt={`${id} window`}\n          style={{\n            // @ts-ignore\n            opacity: iconOpacity,\n            transform: iconTransform,\n          }}\n          src={icon}\n        />\n        <animated.div className={cn} style={{ transform: contentTransform }}>\n          <animated.div\n            ref={contentRef}\n            className={`${cn}__content`}\n            style={{\n              opacity: contentOpacity,\n              transform: rotation,\n              // @ts-expect-error\n              \"--project-background\": backgroundColor,\n              \"--project-foreground\": foregroundColor,\n            } }\n          >\n            {content}\n            <SVG.Close className={`${cn}__close`} onClick={close} />\n          </animated.div>\n        </animated.div>\n      </animated.div>\n    );\n  },\n  (p, n) => p.id === n.id\n);\n","export default __webpack_public_path__ + \"static/media/resume.3d4ad7a7.png\";","export default __webpack_public_path__ + \"static/media/canvases.197834f5.png\";","export default __webpack_public_path__ + \"static/media/color_editor.45f29227.png\";","export default __webpack_public_path__ + \"static/media/draw.67af5dd3.png\";","export default __webpack_public_path__ + \"static/media/gallery.c39cabcd.png\";","export default __webpack_public_path__ + \"static/media/join.7e359324.png\";","export default __webpack_public_path__ + \"static/media/deep-sea.ad8cca32.gif\";","export default __webpack_public_path__ + \"static/media/form_1.e30f6e10.png\";","export default __webpack_public_path__ + \"static/media/tooltip_1.1c5f81e6.png\";","export default __webpack_public_path__ + \"static/media/tooltip_2.2fef1827.png\";","export default __webpack_public_path__ + \"static/media/viz_1.c4c01097.png\";","import resume from \"./resume.png\";\n\nimport paintpartyCanvases from \"./paint-party/canvases.png\";\nimport paintpartyColorEditor from \"./paint-party/color_editor.png\";\nimport paintpartyDraw from \"./paint-party/draw.png\";\nimport paintpartyGallery from \"./paint-party/gallery.png\";\nimport paintpartyJoin from \"./paint-party/join.png\";\nimport paintpartyDeepSea from \"./paint-party/deep-sea.gif\";\n\nimport screentimeForm1 from \"./screentime/form_1.png\";\nimport screentimeTooltip1 from \"./screentime/tooltip_1.png\";\nimport screentimeTooltip2 from \"./screentime/tooltip_2.png\";\nimport screentimeViz1 from \"./screentime/viz_1.png\";\nimport screentimeViz2 from \"./screentime/viz_2.png\";\nimport screentimeGenerate from \"./screentime/generate.png\";\n\nimport websiteGraphics from \"./website/graphics.jpeg\";\nimport websitePhotos from \"./website/photos.jpeg\";\nimport websiteDesign from \"./website/design.jpeg\";\n\nimport accordionCover from \"./accordion/cover.png\";\nimport accordion1 from \"./accordion/1.png\";\nimport accordion2 from \"./accordion/2.png\";\nimport accordion3 from \"./accordion/3.png\";\nimport accordion4 from \"./accordion/4.png\";\nimport accordion5 from \"./accordion/5.png\";\nimport accordion6 from \"./accordion/6.png\";\nimport accordion7 from \"./accordion/7.png\";\nimport accordion8 from \"./accordion/8.png\";\nimport accordionFull from \"./accordion/full.png\";\n\nconst ProjectAssets = {\n  resume,\n\n  paintpartyCanvases,\n  paintpartyColorEditor,\n  paintpartyDraw,\n  paintpartyGallery,\n  paintpartyJoin,\n  paintpartyDeepSea,\n\n  screentimeForm1,\n  screentimeTooltip1,\n  screentimeTooltip2,\n  screentimeViz2,\n  screentimeGenerate,\n  screentimeViz1,\n\n  websiteGraphics,\n  websitePhotos,\n  websiteDesign,\n\n  accordionCover,\n  accordion1,\n  accordion2,\n  accordion3,\n  accordion4,\n  accordion5,\n  accordion6,\n  accordion7,\n  accordion8,\n  accordionFull,\n};\n\nexport default ProjectAssets;\n","export default __webpack_public_path__ + \"static/media/viz_2.688506a4.png\";","export default __webpack_public_path__ + \"static/media/generate.3554158f.png\";","export default __webpack_public_path__ + \"static/media/graphics.f0017589.jpeg\";","export default __webpack_public_path__ + \"static/media/photos.7a9ec905.jpeg\";","export default __webpack_public_path__ + \"static/media/design.8ecf8703.jpeg\";","export default __webpack_public_path__ + \"static/media/cover.4210f14c.png\";","export default __webpack_public_path__ + \"static/media/1.db80918b.png\";","export default __webpack_public_path__ + \"static/media/2.9b2b28c3.png\";","export default __webpack_public_path__ + \"static/media/3.44ab08fb.png\";","export default __webpack_public_path__ + \"static/media/4.78dc3f0d.png\";","export default __webpack_public_path__ + \"static/media/5.0b539723.png\";","export default __webpack_public_path__ + \"static/media/6.9a468953.png\";","export default __webpack_public_path__ + \"static/media/7.1ad93462.png\";","export default __webpack_public_path__ + \"static/media/8.95bde055.png\";","export default __webpack_public_path__ + \"static/media/full.4f332e00.png\";","import \"./gallery.scss\";\n\ntype Image = {\n  src: string;\n  caption?: string;\n};\n\nexport interface GalleryProps {\n  images: Image[];\n}\n\nconst cn = \"gallery\";\n\nconst GalleryImage: React.FC<Image> = ({ src, caption = \"\" }) => (\n  <img className={`${cn}__image`} draggable={false} src={src} alt={caption} />\n);\n\nconst Gallery: React.FC<GalleryProps> = ({ images }) => {\n  return (\n    <div className={cn}>\n      {images.map((image, idx) => (\n        <GalleryImage key={idx} {...image} />\n      ))}\n    </div>\n  );\n};\n\nexport default Gallery;\n","import { Icons, ProjectAssets } from \"../assets\";\nimport { Project } from \"../types\";\nimport Gallery, { GalleryProps } from \"./gallery\";\nimport \"./projects.scss\";\n\nconst ClassPrefix = \"project\";\n\nconst IconContentContainer: React.FC = ({ children }) => (\n  <div className={`${ClassPrefix}__icon-content`}>{children}</div>\n);\n\nconst Container: React.FC = ({ children }) => (\n  <div className={`${ClassPrefix}__container`}>{children}</div>\n);\n\ntype HeaderProps = {\n  title: string;\n  subtitle: string;\n} & LinksProps;\n\nconst Header: React.FC<HeaderProps> = ({ title, subtitle, links }) => (\n  <div className={`${ClassPrefix}__header`}>\n    <div>\n      <h1>{title}</h1>\n      <h2>{subtitle}</h2>\n    </div>\n    <Links links={links} />\n  </div>\n);\n\ntype LinksProps = { links: { title: string; uri: string }[] };\nconst Links: React.FC<LinksProps> = ({ links }) => (\n  <div className={`${ClassPrefix}__links`}>\n    {links.map(({ title, uri }) => (\n      <h2\n        key={title}\n        className={`${ClassPrefix}__link`}\n        onClick={() => window.open(uri)}\n      >\n        {title}\n      </h2>\n    ))}\n  </div>\n);\n\ntype ProjectContentProps = HeaderProps & GalleryProps & { copy?: string[] };\nconst ProjectContent: React.FC<ProjectContentProps> = ({\n  images,\n  links,\n  title,\n  subtitle,\n  copy = [],\n}) => (\n  <Container>\n    <Gallery images={images} />\n    <Header title={title} subtitle={subtitle} links={links} />\n    <div className={`${ClassPrefix}__body`}>\n      {copy.map((p, idx) => (\n        <p key={idx}>{p}</p>\n      ))}\n    </div>\n  </Container>\n);\n\ntype ProjectIconContentProps = {\n  title?: string;\n  subtitle?: string;\n  copy?: string[];\n};\nconst ProjectIconContent: React.FC<ProjectIconContentProps> = ({\n  title,\n  subtitle,\n  copy = [],\n}) => (\n  <IconContentContainer>\n    {title && <h2>{title}</h2>}\n    {subtitle && <h3>{subtitle}</h3>}\n    {copy.map((p, idx) => (\n      <p key={idx}>{p}</p>\n    ))}\n  </IconContentContainer>\n);\n\nexport const projects: { [id: string]: Project } = {\n  resume: {\n    icon: Icons.resume,\n    aspectRatio: 1.294117647,\n    backgroundColor: \"#FFD60A\",\n    foregroundColor: \"white\",\n    iconContent: (\n      <ProjectIconContent\n        copy={[\n          \"Graduated from Yale in May 2020, currently a software engineer at Retool.\",\n          \"Previously at TrialSpark, Zillow, Snackpass.\",\n        ]}\n      />\n    ),\n    content: (\n      <img\n        className=\"resume\"\n        alt=\"alexi-christakis-resume\"\n        src={ProjectAssets.resume}\n      />\n    ),\n  },\n  paintparty: {\n    icon: Icons.paintParty,\n    backgroundColor: \"#6236FF\",\n    foregroundColor: \"#D8D8D8\",\n    iconContent: (\n      <ProjectIconContent\n        title={\"Paint Party\"}\n        subtitle={\"April 2020\"}\n        copy={[\n          \"Collaborative mobile drawing game. Winner of Yale's Lohmann Design Prize.\",\n          \"TypeScript, React Native, Firebase.\",\n        ]}\n      />\n    ),\n    content: (\n      <ProjectContent\n        title={\"PaintParty\"}\n        subtitle={\"April 2020\"}\n        images={[\n          { src: ProjectAssets.paintpartyDeepSea, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyCanvases, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyColorEditor, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyDraw, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyGallery, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyJoin, caption: \"canvases\" },\n        ]}\n        links={[\n          { title: \"website\", uri: \"https://paintparty.io\" },\n          {\n            title: \"appstore\",\n            uri: \"https://apps.apple.com/tt/app/paint-party/id1504830265\",\n          },\n        ]}\n        copy={[\n          \"Draw pixel art with your friends in real time. Every canvas offers a unique experience with customizable size, background color, duration, and draw interval\",\n          \"Drawing only colors a single pixel. Each canvas limits how frequently authors draw, so it helps to communicate a plan!\",\n          \"Canvases can be exported to gifs that plot each pixel as it was drawn.\",\n        ]}\n      />\n    ),\n  },\n  unexpected: {\n    icon: Icons.unexpected,\n    backgroundColor: \"#49E020\",\n    foregroundColor: \"\",\n    iconContent: (\n      <ProjectIconContent\n        title={\"Unexpected\"}\n        subtitle={\"March 2020\"}\n        copy={[\n          \"Senior thesis project. A photo sharing app that limits how often & when users can post.\",\n          \"TypeScript, React Native, NodeJS, MongoDB.\",\n        ]}\n      />\n    ),\n    content: (\n      <ProjectContent\n        title={\"Unexpected\"}\n        subtitle={\"March 2020\"}\n        images={[]}\n        links={[\n          {\n            uri: \"https://github.com/alexichristakis/unexpected\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n  },\n  screentime: {\n    backgroundColor: \"#007FFF\",\n    foregroundColor: \"#D6EAFF\",\n    icon: Icons.screentime,\n    content: (\n      <ProjectContent\n        title={\"Screentime\"}\n        subtitle={\"October 2019\"}\n        images={[\n          { src: ProjectAssets.screentimeForm1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeViz1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeTooltip1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeGenerate, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeViz2, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeTooltip2, caption: \"canvases\" },\n        ]}\n        links={[\n          {\n            title: \"website\",\n            uri: \"https://screentime-525d7.firebaseapp.com\",\n          },\n          {\n            title: \"code\",\n            uri: \"https://screentime-525d7.firebaseapp.com\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title={\"Screentime\"}\n        subtitle={\"October 2019\"}\n        copy={[\n          \"Class project that generates a visualization of iOS screentime metrics. To better illustrate our behaviors.\",\n          \"React, Processing.\",\n        ]}\n      />\n    ),\n  },\n  accordion: {\n    icon: Icons.accordion,\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    content: (\n      <ProjectContent\n        title=\"Accordion\"\n        subtitle=\"March 2019\"\n        images={[\n          { src: ProjectAssets.accordionCover },\n          { src: ProjectAssets.accordion1 },\n          { src: ProjectAssets.accordion2 },\n          { src: ProjectAssets.accordion3 },\n          { src: ProjectAssets.accordion4 },\n          { src: ProjectAssets.accordion5 },\n          { src: ProjectAssets.accordion6 },\n          { src: ProjectAssets.accordion7 },\n          { src: ProjectAssets.accordion8 },\n          { src: ProjectAssets.accordionFull },\n        ]}\n        links={[\n          {\n            uri:\n              \"https://drive.google.com/open?id=15JZi0SyjlQCUvVDhd-Ar48Kdcz5iSe1w\",\n            title: \"pdf\",\n          },\n        ]}\n        copy={[\n          \"Project done for ART 469b: Advanced Graphic Design. Students chose a designer to write about in an 'accordion' format restricted only by the limitation of printing on a single side.\",\n          \"My accordion (on Ralph Schraivogel) contains 5 sections: training & work, stylistic regularities, influence & context, Henry Van de Velde, and grayscale series. I designed the folding to accomodate a variety of opening possibilities which each allow for a different experience. The final product was produced on an Epson Inkjet large-format printer.\",\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title={\"Accordion\"}\n        subtitle={\"March 2019\"}\n        copy={[\n          \"Advanced Graphic Design mid-term project. An interactive accordion fold to view panes in many different combinations.\",\n        ]}\n      />\n    ),\n  },\n  photos: {\n    backgroundColor: \"#008CA6\",\n    foregroundColor: \"\",\n    icon: Icons.photography,\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent title=\"Photography\" copy={[\"Selected photos.\"]} />\n    ),\n  },\n  herd: {\n    icon: Icons.herd,\n    backgroundColor: \"#872BD2\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title={\"Herd\"}\n        subtitle={\"Summer 2019\"}\n        copy={[\n          \"Socialized location sharing. Emphasis on large groups & anonymous background location sharing.\",\n          \"React Native, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  evently: {\n    icon: Icons.evently,\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title=\"Evently\"\n        subtitle={\"Spring 2018\"}\n        copy={[\n          \"Software Engineering class project. Event API aggregator with card-swiping interface.\",\n          \"React Native, NodeJS, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  sesh: {\n    icon: Icons.sesh,\n    backgroundColor: \"#865EFF\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title=\"Sesh\"\n        subtitle=\"Summer 2018\"\n        copy={[\n          \"Event-based social app. Quickly notify friends of adhoc events.\",\n          \"React Native, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  twitterlytics: {\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    icon: Icons.twitterlytics,\n    content: (\n      <ProjectContent\n        title=\"Twitterlytics\"\n        subtitle=\"December 2018\"\n        images={[]}\n        links={[\n          { uri: \"https://bertha-ecf12.firebaseapp.com\", title: \"website\" },\n          {\n            uri: \"https://github.com/alexichristakis/project-bertha\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title=\"Twitterlytics\"\n        subtitle=\"December 2018\"\n        copy={[\n          \"Dashboard for generating NLP reports on a twitter user. Sentiment score and content analysis.\",\n          \"React, Python, NLTK.\",\n        ]}\n      />\n    ),\n  },\n  website: {\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    icon: Icons.website,\n    content: (\n      <ProjectContent\n        title=\"Portfolio\"\n        subtitle=\"January 2018\"\n        images={[\n          { src: ProjectAssets.websiteGraphics, caption: \"graphics\" },\n          { src: ProjectAssets.websiteDesign, caption: \"design\" },\n          { src: ProjectAssets.websitePhotos, caption: \"photos\" },\n        ]}\n        links={[\n          { uri: \"https://alexi.site\", title: \"website\" },\n          {\n            uri: \"https://github.com/alexichristakis/personal-site\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title=\"Personal Site\"\n        copy={[\"The old version of this website.\"]}\n      />\n    ),\n  },\n} as const;\n","import { createContext, useRef } from \"react\";\n\nimport { Events, useEvents } from \"../hooks\";\n\nexport enum ElevatedElementTier {\n  ICON,\n  WINDOW,\n  CURSOR,\n}\n\ntype PartialElevatedElement = {\n  tier: ElevatedElementTier;\n  id: string;\n};\n\ntype ElevatedElementEvent = {\n  tier: ElevatedElementTier;\n  elevations: { [key: string]: number };\n};\n\ntype ElementMap = {\n  [key in ElevatedElementTier]: string[];\n};\n\ntype ElevationManagerState = {\n  elements: React.MutableRefObject<ElementMap>;\n  registerElement: (el: PartialElevatedElement) => { initial: number };\n  removeElement: (el: PartialElevatedElement) => void;\n  raise: (el: PartialElevatedElement) => void;\n  lower: (el: PartialElevatedElement) => void;\n  subscribe: Events<ElevatedElementEvent>[\"subscribe\"];\n};\n\nexport const ElevationManagerContext = createContext(\n  {} as ElevationManagerState\n);\n\nexport const ElevationManagerProvider: React.FC = ({ children }) => {\n  const floor = useRef(100);\n  const elements = useRef<ElementMap>({\n    [ElevatedElementTier.ICON]: [],\n    [ElevatedElementTier.WINDOW]: [],\n    [ElevatedElementTier.CURSOR]: [],\n  });\n\n  const { subscribe, send } = useEvents<ElevatedElementEvent>();\n\n  const getElevation = (tier: ElevatedElementTier, idx: number) =>\n    idx + floor.current * tier;\n\n  const updateElements = (\n    { id, tier }: PartialElevatedElement,\n    newIndex: number\n  ) => {\n    const newElements = elements.current[tier].filter((e) => e !== id);\n    newElements.splice(newIndex, 0, id);\n\n    // update with the new location\n    elements.current = {\n      ...elements.current,\n      [tier]: newElements,\n    };\n\n    // if we breach the floor of the next tier, raise it\n    const highest = elements.current[tier].length;\n    if (highest > floor.current) {\n      floor.current *= 2;\n    }\n\n    // generate elevations map\n    const elevations = elements.current[tier].reduce((acc, id, idx) => {\n      acc[id] = getElevation(tier, idx);\n      return acc;\n    }, {} as { [key: string]: number });\n\n    send({ tier, elevations });\n    return elevations[id];\n  };\n\n  const registerElement = ({ id, tier }: PartialElevatedElement) => {\n    const initial = updateElements({ id, tier }, elements.current[tier].length);\n    return { initial };\n  };\n\n  const removeElement = ({ id, tier }: PartialElevatedElement) => {\n    elements.current[tier] = elements.current[tier].filter((e) => e !== id);\n  };\n\n  const raise = ({ id, tier }: PartialElevatedElement) =>\n    updateElements({ id, tier }, elements.current[tier].length - 1);\n\n  const lower = ({ id, tier }: PartialElevatedElement) =>\n    updateElements({ id, tier }, 0);\n\n  return (\n    <ElevationManagerContext.Provider\n      value={{\n        subscribe,\n        elements,\n        raise,\n        registerElement,\n        removeElement,\n        lower,\n      }}\n    >\n      {children}\n    </ElevationManagerContext.Provider>\n  );\n};\n","import { createContext, useMemo } from \"react\";\n\nimport { Project, Vector2D, Vector3D } from \"../types\";\nimport { projects } from \"../components\";\nimport { clamp, PROJECT_SIZE } from \"../lib\";\n\nconst projectIds = Object.keys(projects);\n\ntype Projects = {\n  [key: string]: Project;\n};\n\ntype Positions = {\n  [key: string]: Vector3D;\n};\n\ntype ProjectContextShape = {\n  projectIds: string[];\n  projects: Projects;\n  initialPositions: Positions;\n};\n\nexport const ProjectContext = createContext({} as ProjectContextShape);\n\nconst MARGIN = 40;\n\nconst NUM_PER_ROW = Math.floor(window.innerWidth / (PROJECT_SIZE + MARGIN * 2));\n\nconst b = (val: number, low: number, high: number) => val >= low && val <= high;\n\nconst overlap = ([x1, y1, z1]: Vector3D, [x2, y2, z2]: Vector3D): boolean => {\n  const right = x1 + PROJECT_SIZE * (z1 + 1);\n  const right2 = x2 + PROJECT_SIZE * (z2 + 1);\n\n  const bottom = y1 + PROJECT_SIZE * (z1 + 1);\n  const bottom2 = y2 + PROJECT_SIZE * (z2 + 1);\n\n  if (\n    (b(right, x2, right2) || b(x1, x2, right2)) &&\n    (b(bottom, y2, bottom2) || b(y1, y2, bottom2))\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nconst getDiff = (\n  [left1, top1, z1]: Vector3D,\n  [left2, top2, z2]: Vector3D\n): Vector2D => {\n  const right1 = left1 + PROJECT_SIZE * (z1 + 1);\n  const right2 = left2 + PROJECT_SIZE * (z2 + 1);\n\n  const bottom1 = top1 + PROJECT_SIZE * (z1 + 1);\n  const bottom2 = top2 + PROJECT_SIZE * (z2 + 1);\n\n  return [\n    left2 > left1 && left2 < right1\n      ? Math.min(left2 - left1, left2 - right1)\n      : right2 > left1 && right2 < right1\n      ? Math.min(right2 - left1, right2 - right1)\n      : 0,\n    top2 > top1 && top2 < bottom1\n      ? Math.min(top2 - top1, top2 - bottom1)\n      : bottom2 > top1 && bottom2 < bottom1\n      ? Math.min(bottom2 - top1, bottom2 - bottom1)\n      : 0,\n  ];\n};\n\nconst random = (scale: number) => (Math.random() - 0.5) * scale;\n\nconst getPosition = (index: number, positions: Positions): Vector3D => {\n  const z = random(0.5);\n\n  // get the grid position\n  let [x, y] = getInitialPosition(index);\n\n  const size = (z + 1) * PROJECT_SIZE;\n  const maxX = window.innerWidth - MARGIN - size;\n  const maxY = window.innerHeight - MARGIN - size;\n\n  // move it randomly\n  const p1: Vector3D = [\n    clamp(x + random(100), MARGIN, maxX),\n    clamp(y + random(100), MARGIN, maxY),\n    z,\n  ];\n\n  Object.values(positions).forEach((p2) => {\n    if (overlap(p1, p2)) {\n      // nudge\n      const [diffX, diffY] = getDiff(p1, p2);\n      p1[0] = clamp(x + diffX, MARGIN, maxX);\n      p1[1] = clamp(y + diffY, MARGIN, maxY);\n    }\n  });\n\n  return p1;\n};\n\n/**\n * converts a project index into it's position in a grid\n */\nconst getInitialPosition = (index: number): Vector2D => [\n  // x grid coordinate\n  (index % NUM_PER_ROW) * (PROJECT_SIZE + MARGIN * 2) + MARGIN,\n  // y grid coordinate\n  Math.floor(index / NUM_PER_ROW) * (PROJECT_SIZE + MARGIN * 2) + MARGIN,\n];\n\nexport const ProjectProvider: React.FC = ({ children }) => {\n  const initialPositions = useMemo(\n    () =>\n      projectIds.reduce((positions, id, idx) => {\n        positions[id] = getPosition(idx, positions);\n\n        return positions;\n      }, {} as Positions),\n    []\n  );\n\n  return (\n    <ProjectContext.Provider value={{ projectIds, projects, initialPositions }}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n","import { useEffect, useLayoutEffect, EffectCallback } from \"react\";\n\nexport const useMountEffect = (effect: EffectCallback) => {\n  // eslint-disable-next-line\n  useEffect(effect, []);\n};\n\nexport const useLayoutMountEffect = (effect: EffectCallback) => {\n  // eslint-disable-next-line\n  useLayoutEffect(effect, []);\n};\n","import { useContext } from \"react\";\nimport { CursorStateContext, CursorEvent, CursorEventType } from \"../context\";\nimport { useMountEffect } from \"./useMountEffect\";\n\ntype CursorEventHandlers = {\n  onLock?: (ev: CursorEvent) => void;\n  onUnlock?: (ev: CursorEvent) => void;\n};\n\nexport const useCursorEvents = (handlers: CursorEventHandlers) => {\n  const { subscribe, ...rest } = useContext(CursorStateContext);\n\n  useMountEffect(() => {\n    const unsubscribe = subscribe(({ type, target, position }) => {\n      if (type === CursorEventType.LOCK) {\n        handlers.onLock?.({ type, target, position });\n      }\n\n      if (type === CursorEventType.UNLOCK) {\n        handlers.onUnlock?.({ type, target, position });\n      }\n    });\n\n    return () => unsubscribe();\n  });\n\n  return rest;\n};\n","import { useContext, useRef } from \"react\";\n\nimport {\n  WindowEventHandlers,\n  WindowManagerContext,\n  WindowState,\n} from \"../context\";\nimport { useMountEffect } from \"./useMountEffect\";\n\nexport type UseWindowConfig = {\n  id: string;\n  handlers?: WindowEventHandlers;\n};\n\nexport const useWindows = ({ id, handlers = {} }: UseWindowConfig) => {\n  const sourceRef = useRef<HTMLDivElement>(null);\n  const { openWindow, registerWindow, subscribe } = useContext(\n    WindowManagerContext\n  );\n\n  useMountEffect(() => {\n    registerWindow({ id, sourceRef });\n\n    const { onOpen, onRequestClose, onClose } = handlers;\n    const unsubscribe = subscribe((payload) => {\n      const { type, id: windowId } = payload;\n      if (id === windowId) {\n        switch (type) {\n          case WindowState.OPEN:\n            return onOpen?.();\n          case WindowState.CLOSING:\n            return onRequestClose?.();\n          case WindowState.CLOSED:\n            return onClose?.();\n          default:\n            break;\n        }\n      }\n    });\n\n    return () => unsubscribe();\n  });\n\n  return {\n    openWindow: () => openWindow(id),\n    sourceRef,\n  };\n};\n","import { useCallback, useRef } from \"react\";\n\ntype BasePayload = {};\n\ntype Listener<Payload extends BasePayload> = (payload: Payload) => void;\n\nexport type Events<Payload extends BasePayload> = {\n  send: Listener<Payload>;\n  subscribe: (l: Listener<Payload>) => () => void;\n};\n\nexport const useEvents = <Payload extends BasePayload>(): Events<Payload> => {\n  const listeners = useRef<Listener<Payload>[]>([]);\n\n  const send = useCallback((payload: Payload) => {\n    listeners.current.forEach((listener) => listener?.(payload));\n  }, []);\n\n  const unsubscribe = useCallback((listener?: Listener<Payload>) => {\n    listeners.current = listeners.current.filter((l) => l !== listener);\n  }, []);\n\n  const subscribe = useCallback(\n    (listener: Listener<Payload>) => {\n      listeners.current.push(listener);\n      return () => unsubscribe(listener);\n    },\n    [unsubscribe]\n  );\n\n  return {\n    send,\n    subscribe,\n  };\n};\n","import { useRef } from \"react\";\nimport { Interpolation, to, useSpring } from \"react-spring\";\nimport { GestureKey, Handler } from \"react-use-gesture/dist/types\";\n\nimport { invlerp, INITIAL_RECT } from \"../lib\";\nimport { Vector2D, Rect } from \"../types\";\n\ntype GestureHander<T extends GestureKey> = Handler<\n  T,\n  React.PointerEvent<Element> | PointerEvent\n>;\n\ntype Config = {\n  ref: React.RefObject<HTMLDivElement>;\n  throttle?: number;\n};\n\ntype Return = {\n  resetRotation: () => void;\n  rect: React.RefObject<Rect>;\n  rotation: Interpolation<string, any>;\n  onHover: GestureHander<\"hover\">;\n  onMove: GestureHander<\"move\">;\n};\n\nconst calc = ([px, py]: Vector2D, rect: Rect, throttle: number = 1) => [\n  -(py - rect.y - rect.height / 2) / (20 * throttle),\n  (px - rect.x - rect.width / 2) / (20 * throttle),\n];\n\nexport const useSkewAnimation = ({ ref, throttle = 1 }: Config): Return => {\n  const containerRect = useRef<Rect>(INITIAL_RECT);\n  const sizeThrottle = useRef(0);\n\n  const [{ rotateX, rotateY }, set] = useSpring(() => ({\n    rotateX: 0,\n    rotateY: 0,\n  }));\n\n  const resetRotation = () => set({ rotateX: 0, rotateY: 0 });\n\n  const updateRect = () => {\n    const rect = ref.current?.getBoundingClientRect();\n    if (rect) {\n      const { width, height, x, y } = rect;\n\n      // when items are larger than 750px even small rotations\n      // are quite jarring\n      sizeThrottle.current =\n        invlerp(\n          750,\n          Math.min(window.innerHeight, window.innerWidth),\n          Math.max(width, height)\n        ) * 100;\n\n      containerRect.current = { x, y, width, height };\n    }\n  };\n\n  const rotation = to(\n    [rotateX, rotateY],\n    (rx, ry) => `perspective(600px) rotateX(${rx}deg) rotateY(${ry}deg)`\n  );\n\n  return {\n    resetRotation,\n    rect: containerRect,\n    rotation,\n    onHover: ({ active }) => {\n      if (!active) {\n        set({ rotateX: 0, rotateY: 0 });\n      }\n    },\n    onMove: ({ hovering, dragging, first, xy: [px, py] }) => {\n      if (first) updateRect();\n      if (hovering && !dragging) {\n        const [rotateX, rotateY] = calc(\n          [px, py],\n          containerRect.current,\n          throttle + sizeThrottle.current\n        );\n        set({ rotateX, rotateY });\n      }\n    },\n  };\n};\n","import { useState } from \"react\";\n\nimport { INITIAL_RECT } from \"../lib\";\nimport { Rect } from \"../types\";\nimport { useLayoutMountEffect } from \"./useMountEffect\";\n\ntype UseMeasureReturn = [Rect, () => Rect];\n\nexport const useMeasure = (\n  ref: React.RefObject<HTMLElement>,\n  forceRender: boolean = true\n): UseMeasureReturn => {\n  const [rect, setRect] = useState<Rect>(INITIAL_RECT);\n\n  useLayoutMountEffect(() => {\n    measure();\n  });\n\n  const measure = () => {\n    const newRect = ref.current?.getBoundingClientRect();\n    if (newRect) {\n      const { x, y, width, height } = newRect;\n      if (forceRender) setRect({ x, y, width, height });\n    }\n\n    return newRect ?? rect;\n  };\n\n  return [rect, measure];\n};\n","import { useContext } from \"react\";\n\nimport { ProjectContext } from \"../context\";\nimport { Project, Vector3D } from \"../types\";\n\nexport const useProject = (id: string): [Project, Vector3D] => {\n  const { projects, initialPositions } = useContext(ProjectContext);\n  return [projects[id], initialPositions[id]];\n};\n","import { useCallback, useContext, useState } from \"react\";\nimport { useSpring } from \"react-spring\";\n\nimport { uuid } from \"../lib\";\nimport { ElevatedElementTier, ElevationManagerContext } from \"../context\";\nimport { useMountEffect } from \"./useMountEffect\";\n\nexport const useElevatedElement = (tier: ElevatedElementTier) => {\n  const {\n    registerElement,\n    removeElement,\n    subscribe,\n    raise: handleRaise,\n    lower: handleLower,\n  } = useContext(ElevationManagerContext);\n  const [{ zIndex }] = useSpring(() => ({ zIndex: tier }));\n  const [id] = useState<string>(() => uuid());\n\n  useMountEffect(() => {\n    const { initial } = registerElement({ id, tier });\n    zIndex.set(initial);\n\n    const unsubscribe = subscribe(({ tier: updatedTier, elevations }) => {\n      if (tier === updatedTier) {\n        zIndex.set(elevations[id]);\n      }\n    });\n\n    return () => {\n      removeElement({ id, tier });\n      unsubscribe();\n    };\n  });\n\n  const raise = useCallback(() => handleRaise({ id, tier }), [\n    handleRaise,\n    id,\n    tier,\n  ]);\n\n  const lower = useCallback(() => handleLower({ id, tier }), [\n    handleLower,\n    id,\n    tier,\n  ]);\n\n  return {\n    zIndex,\n    raise,\n    lower,\n  };\n};\n","import { CSSProperties, useRef } from \"react\";\n\nimport { useGestureOverrides } from \"./hooks\";\nimport {\n  WindowManagerProvider,\n  ProjectProvider,\n  CursorStateProvider,\n  ElevationManagerProvider,\n} from \"./context\";\nimport { ProjectIcons, Cursor } from \"./components\";\nimport { PROJECT_SIZE, ICON_BORDER_RADIUS } from \"./lib\";\n\nimport \"./App.scss\";\n\nconst App: React.FC = () => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useGestureOverrides(ref);\n\n  return (\n    <CursorStateProvider>\n      <ProjectProvider>\n        <ElevationManagerProvider>\n          <div\n            ref={ref}\n            className=\"app-container\"\n            style={{\n              ...({\n                \"--project-size\": `${PROJECT_SIZE}px`,\n                \"--icon-border-radius\": `${ICON_BORDER_RADIUS}px`,\n              } as CSSProperties),\n            }}\n          >\n            <WindowManagerProvider>\n              <ProjectIcons />\n            </WindowManagerProvider>\n          </div>\n          <Cursor />\n        </ElevationManagerProvider>\n      </ProjectProvider>\n    </CursorStateProvider>\n  );\n};\n\nexport default App;\n","import { usePinch } from \"react-use-gesture\";\nimport { useMountEffect } from \"./useMountEffect\";\n\nexport const useGestureOverrides = (ref: React.RefObject<HTMLElement>) => {\n  // hack here to prevent user from zooming the main viewport\n  usePinch(() => {}, { domTarget: ref, eventOptions: { passive: false } });\n\n  useMountEffect(() => {\n    const preventDefault = (e: Event) => e.preventDefault();\n    document.addEventListener(\"gesturestart\", preventDefault);\n    document.addEventListener(\"gesturechange\", preventDefault);\n\n    return () => {\n      document.removeEventListener(\"gesturestart\", preventDefault);\n      document.removeEventListener(\"gesturechange\", preventDefault);\n    };\n  });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}