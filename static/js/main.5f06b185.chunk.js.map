{"version":3,"sources":["context/CursorState.tsx","context/WindowManager.tsx","lib/util.ts","lib/constants.ts","components/scrollbar.tsx","components/projectIcon.tsx","components/cursor.tsx","assets/icons/paint_party.png","assets/icons/unexpected.png","assets/icons/herd.png","assets/icons/evently.png","assets/icons/sesh.png","assets/icons/accordion.png","assets/icons/twitterlytics.png","assets/icons/website.png","assets/icons/photography.png","assets/icons/svg.tsx","assets/icons/index.ts","assets/icons/screentime.png","assets/icons/resume.png","components/window.tsx","assets/projects/resume.png","assets/projects/paint-party/canvases.png","assets/projects/paint-party/color_editor.png","assets/projects/paint-party/draw.png","assets/projects/paint-party/gallery.png","assets/projects/paint-party/join.png","assets/projects/paint-party/deep-sea.gif","assets/projects/screentime/form_1.png","assets/projects/screentime/tooltip_1.png","assets/projects/screentime/tooltip_2.png","assets/projects/screentime/viz_1.png","assets/projects/index.ts","assets/projects/screentime/viz_2.png","assets/projects/screentime/generate.png","assets/projects/website/graphics.jpeg","assets/projects/website/photos.jpeg","assets/projects/website/design.jpeg","assets/projects/accordion/cover.png","assets/projects/accordion/1.png","assets/projects/accordion/2.png","assets/projects/accordion/3.png","assets/projects/accordion/4.png","assets/projects/accordion/5.png","assets/projects/accordion/6.png","assets/projects/accordion/7.png","assets/projects/accordion/8.png","assets/projects/accordion/full.png","components/gallery.tsx","components/projects.tsx","context/Projects.tsx","hooks/useMountEffect.ts","hooks/useCursorEvents.ts","hooks/useWindows.ts","hooks/useEvents.ts","hooks/useSkewAnimation.ts","hooks/useMeasure.ts","hooks/useProject.ts","App.tsx","hooks/useGestureOverrides.ts","serviceWorker.ts","index.tsx"],"names":["CursorEventType","WindowState","CursorStateContext","createContext","CursorStateProvider","children","pressed","useRef","target","useSpring","xy","config","duration","mouse","set","useEvents","send","subscribe","useGesture","onMove","onMouseDown","onMouseUp","domTarget","window","getCurrentPosition","x","get","y","Provider","value","position","lock","lockedTarget","current","type","LOCK","unlock","UNLOCK","setMultipleRefs","refs","element","ref","clamp","val","min","max","Math","invlerp","a","PROJECT_SIZE","INITIAL_RECT","width","height","ClassPrefix","ScrollBar","offset","contentHeight","visible","opacity","useMeasure","scroll","to","range","output","extrapolate","div","className","style","transform","ProjectIcon","id","useState","isHovered","setIsHovered","containerRef","contentRef","isDragSession","useProject","icon","iconContent","backgroundColor","foregroundColor","rest","initialX","initialY","initialZoom","setVisible","rz","zoom","scale","useMountEffect","useWindows","handlers","onOpen","immediate","onClose","sourceRef","openWindow","useSkewAnimation","rotation","resetRotation","onHover","active","onDrag","first","onDragEnd","setTimeout","onWheel","hovering","dy","delta","next","eventOptions","passive","drag","threshold","onPinch","d","contentTransform","containerTransform","z","s","rxy","t","r","pointerEvents","cn","onClick","draggable","alt","src","ProjectIcons","projects","useContext","ProjectContext","Object","keys","map","idx","Cursor","offsetX","offsetY","cursorStyle","useCursorEvents","prevX","prevY","translateX","translateY","SVG","props","viewBox","fill","x1","y1","x2","y2","stroke","strokeWidth","strokeLinecap","Icons","paintParty","screentime","unexpected","resume","herd","evently","sesh","accordion","twitterlytics","website","photography","WINDOW_MARGIN","getNextOffset","prevOffset","prevSize","nextSize","container","diff","nextOffset","Window","memo","onRequestClose","destroyWindow","content","aspectRatio","windowRef","isClosing","measureSourceRect","initialWidth","initialHeight","initialRect","openAmount","scaleX","scaleY","stop","innerWidth","innerHeight","throttle","ev","nextOffsetX","nextOffsetY","currentWidth","currentHeight","vd","velocities","canceled","cancel","prevWidth","prevHeight","getMaxSize","maxWidth","maxHeight","nextWidth","nextHeight","close","requestAnimationFrame","destRect","scaleXDest","scaleYDest","then","translate","iconTransform","iconOpacity","contentOpacity","img","p","n","ProjectAssets","paintpartyCanvases","paintpartyColorEditor","paintpartyDraw","paintpartyGallery","paintpartyJoin","paintpartyDeepSea","screentimeForm1","screentimeTooltip1","screentimeTooltip2","screentimeViz2","screentimeGenerate","screentimeViz1","websiteGraphics","websitePhotos","websiteDesign","accordionCover","accordion1","accordion2","accordion3","accordion4","accordion5","accordion6","accordion7","accordion8","accordionFull","GalleryImage","caption","Gallery","images","image","IconContentContainer","Container","Header","title","subtitle","links","Links","uri","open","ProjectContent","copy","ProjectIconContent","paintparty","photos","WindowManagerContext","WindowManagerProvider","registeredWindows","openWindows","setOpenWindows","registerWindow","useCallback","state","CLOSED","handleWindowOpen","OPEN","prev","requestClose","CLOSING","closeWindow","filter","useMemo","MARGIN","NUM_PER_ROW","floor","b","low","high","random","getPosition","index","positions","getInitialPosition","size","maxX","maxY","p1","values","forEach","p2","z1","z2","right2","bottom","bottom2","overlap","left1","top1","left2","top2","right1","bottom1","getDiff","diffX","diffY","ProjectProvider","initialPositions","reduce","effect","useEffect","unsubscribe","onLock","onUnlock","payload","listeners","listener","l","push","containerRect","sizeThrottle","rotateX","rotateY","rx","ry","rect","dragging","px","py","getBoundingClientRect","updateRect","calc","forceRender","setRect","measure","newRect","App","preventDefault","e","document","addEventListener","removeEventListener","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.5f06b185.chunk.js","sourcesContent":["import { createContext, useRef } from \"react\";\nimport { SpringValue, useSpring } from \"react-spring\";\n\nimport { Events, useEvents } from \"../hooks\";\nimport { useGesture } from \"react-use-gesture\";\n\nexport type CursorMoveHandlers = {\n  handler: {\n    onMouseMove: (event: React.MouseEvent<HTMLDivElement>) => void;\n    onTouchMove: (event: React.TouchEvent<HTMLDivElement>) => void;\n  };\n};\n\nexport enum CursorEventType {\n  \"LOCK\",\n  \"UNLOCK\",\n}\n\nexport type CursorTargetConfig = {\n  scale?: number;\n  zIndex?: number;\n  throttle?: boolean;\n  draggable?: \"x\" | \"y\" | \"xy\";\n};\n\nexport type CursorTarget = CursorTargetConfig & {\n  rect: DOMRect;\n};\n\nexport type CursorEvent = {\n  type: CursorEventType;\n  target: CursorTarget;\n  position: { x: number; y: number };\n};\n\nexport type CursorPositionState = {\n  position: SpringValue<number[]>;\n  target: React.RefObject<CursorTarget>;\n  pressed: React.RefObject<boolean>;\n  lock: (target: CursorTarget) => void;\n  unlock: (target: CursorTarget) => void;\n  subscribe: Events<CursorEvent>[\"subscribe\"];\n};\n\nexport const CursorStateContext = createContext({} as CursorPositionState);\n\nexport const CursorStateProvider: React.FC = ({ children }) => {\n  const pressed = useRef(false);\n  const target = useRef<CursorTarget | null>(null);\n\n  const [mouse, set] = useSpring(() => ({\n    xy: [-10, -10],\n    pressed: false,\n    config: { duration: 0 },\n  }));\n\n  const { send, subscribe } = useEvents<CursorEvent>();\n\n  useGesture(\n    {\n      onMove: ({ xy }) => set({ xy }),\n      onMouseDown: () => set({ pressed: true }),\n      onMouseUp: () => set({ pressed: false }),\n    },\n    { domTarget: window }\n  );\n\n  const getCurrentPosition = () => ({\n    x: mouse.xy.get()[0],\n    y: mouse.xy.get()[1],\n  });\n\n  const lock = (lockedTarget: CursorTarget) => {\n    if (!(pressed.current && target.current)) {\n      target.current = lockedTarget;\n      send({\n        type: CursorEventType.LOCK,\n        target: lockedTarget,\n        position: getCurrentPosition(),\n      });\n    }\n  };\n\n  const unlock = (lockedTarget: CursorTarget) => {\n    target.current = null;\n    send({\n      type: CursorEventType.UNLOCK,\n      target: lockedTarget,\n      position: getCurrentPosition(),\n    });\n  };\n\n  return (\n    <CursorStateContext.Provider\n      value={{ position: mouse.xy, pressed, subscribe, target, lock, unlock }}\n    >\n      {children}\n    </CursorStateContext.Provider>\n  );\n};\n","import { createContext, useCallback, useMemo, useRef, useState } from \"react\";\n\nimport { Project as ProjectType } from \"../types\";\nimport { useEvents, Events } from \"../hooks\";\nimport { Window } from \"../components\";\n\nexport type WindowConfig = ProjectType & {\n  id: string;\n  sourceRef: React.RefObject<HTMLElement>;\n};\n\nexport type WindowEventHandlers = {\n  onRequestClose?: () => void;\n  onClose?: () => void;\n  onOpen?: () => void;\n};\n\ntype WindowManagerState = {\n  registerWindow: (window: WindowConfig) => void;\n  openWindow: (id: string) => void;\n  closeWindow: (id: string) => void;\n  subscribe: Events<WindowEvent>[\"subscribe\"];\n};\n\nexport enum WindowState {\n  OPEN,\n  CLOSING,\n  CLOSED,\n}\n\ntype WindowEvent = {\n  type: WindowState;\n  id: string;\n};\n\ntype WindowMap = {\n  [id: string]: WindowConfig & { state: WindowState };\n};\n\nexport const WindowManagerContext = createContext({} as WindowManagerState);\n\nexport const WindowManagerProvider: React.FC = ({ children }) => {\n  const registeredWindows = useRef<WindowMap>({});\n  const [openWindows, setOpenWindows] = useState<string[]>([]);\n\n  const { send, subscribe } = useEvents<WindowEvent>();\n\n  const registerWindow = useCallback((window: WindowConfig) => {\n    if (!registeredWindows.current[window.id]) {\n      registeredWindows.current[window.id] = {\n        ...window,\n        state: WindowState.CLOSED,\n      };\n    }\n  }, []);\n\n  const handleWindowOpen = useCallback(\n    (id: string) => {\n      send({ type: WindowState.OPEN, id });\n      registeredWindows.current[id].state = WindowState.OPEN;\n      requestAnimationFrame(() => {\n        setOpenWindows((prev) => [...prev, id]);\n      });\n    },\n    [send]\n  );\n\n  const openWindow = useCallback(\n    (id: string) => {\n      const window = registeredWindows.current[id];\n      if (window) {\n        const { state } = window;\n        if (state !== WindowState.OPEN) {\n          handleWindowOpen(id);\n        }\n      }\n    },\n    [handleWindowOpen]\n  );\n\n  const requestClose = useCallback(\n    (id: string) => {\n      send({ type: WindowState.CLOSING, id });\n      registeredWindows.current[id].state = WindowState.CLOSING;\n    },\n    [send]\n  );\n\n  const closeWindow = useCallback(\n    (id: string) => {\n      send({ type: WindowState.CLOSED, id });\n      registeredWindows.current[id].state = WindowState.CLOSED;\n      requestAnimationFrame(() => {\n        setOpenWindows((prev) => prev.filter((window) => window !== id));\n      });\n    },\n    [send]\n  );\n\n  const state = useMemo(\n    () => ({\n      subscribe,\n      openWindow,\n      closeWindow,\n      registerWindow,\n    }),\n    [subscribe, openWindow, closeWindow, registerWindow]\n  );\n\n  return (\n    <WindowManagerContext.Provider value={state}>\n      {children}\n      <div className=\"absolute-fill pointer-none\">\n        {openWindows.map((id) => (\n          <Window\n            key={id}\n            onRequestClose={() => requestClose(id)}\n            destroyWindow={() => closeWindow(id)}\n            // topWindow={topWindow}\n            {...registeredWindows.current[id]}\n          />\n        ))}\n      </div>\n    </WindowManagerContext.Provider>\n  );\n};\n","import { Ref, MutableRefObject } from \"react\";\nimport { Vector2D, SpringVector2D } from \"../types\";\n\nexport const setMultipleRefs = <RefType = any>(\n  ...refs: ReadonlyArray<Ref<RefType>>\n) => (element: RefType) => {\n  for (const ref of refs) {\n    if (typeof ref === \"function\") {\n      ref(element);\n    } else if (ref != null) {\n      (ref as MutableRefObject<any>).current = element;\n    }\n  }\n};\n\nexport const getVectorVal = (v: SpringVector2D): Vector2D => {\n  let x, y;\n  if (v instanceof Array) {\n    x = v[0].get();\n    y = v[1].get();\n  } else {\n    [x, y] = v.get();\n  }\n  return [x, y];\n};\n\nexport const clamp = (val: number, min: number = 0, max: number = 1) =>\n  Math.min(max, Math.max(val, min));\n\nexport const lerp = (x: number, y: number, a: number) => x * (1 - a) + y * a;\n\nexport const invlerp = (x: number, y: number, a: number) =>\n  clamp((a - x) / (y - x));\n\nexport const range = (\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  a: number\n) => lerp(x2, y2, invlerp(x1, y1, a));\n","import { Rect } from \"../types\";\n\nexport const BOX_SIZE = 250;\n\nexport const DEFAULT_CURSOR_SIZE = 10;\nexport const LOCKED_CURSOR_BUFFER = 15;\n\nexport const CURSOR_ZINDEX = 4;\nexport const ICON_ZINDEX = 2;\nexport const WINDOW_ZINDEX = 3;\nexport const FOCUSED_ZINDEX = 4;\n\nexport const PROJECT_SIZE = 225;\nexport const ICON_BORDER_RADIUS = 10;\n\nexport const TWEEN_ANIMATION = {\n  type: \"tween\",\n  ease: \"easeOut\",\n  duration: 0.3,\n} as const;\n\nexport const TWEEN_ANIMATION_2 = {\n  type: \"tween\",\n  ease: \"easeOut\",\n  duration: 2,\n} as const;\n\nexport const EASING = {\n  easeOutCirc: (x: number) => Math.sqrt(1 - Math.pow(x - 1, 2)),\n};\n\nexport const INITIAL_RECT: Rect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n};\n","import { useRef } from \"react\";\nimport { animated, SpringValue, useSpring } from \"react-spring\";\n\nimport { useMeasure } from \"../hooks\";\nimport \"./scrollbar.scss\";\n\nexport interface ScrollBarProps {\n  offset: SpringValue<number>;\n  contentHeight: number;\n  visible?: boolean;\n}\n\nconst BAR_HEIGHT = 25;\n\nconst ClassPrefix = \"scrollbar\";\nconst ScrollBar: React.FC<ScrollBarProps> = ({\n  offset,\n  contentHeight,\n  visible = true,\n}) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const { opacity } = useSpring({ opacity: visible ? 1 : 0 });\n  const [{ height }] = useMeasure(ref);\n\n  const scroll = offset\n    .to({\n      range: [-contentHeight, 0],\n      output: [height - BAR_HEIGHT, 0],\n      extrapolate: \"clamp\",\n    })\n    .to((val) => `translateY(${val}px)`);\n\n  return (\n    // @ts-ignore\n    <animated.div ref={ref} className={ClassPrefix} style={{ opacity }}>\n      <animated.div\n        className={`${ClassPrefix}__bar`}\n        style={{ transform: scroll, height: BAR_HEIGHT }}\n      />\n    </animated.div>\n  );\n};\n\nexport default ScrollBar;\n","import { useState, useRef, useContext } from \"react\";\nimport { animated, to, useSpring } from \"react-spring\";\nimport { useGesture } from \"react-use-gesture\";\nimport cn from \"classnames\";\n\nimport { setMultipleRefs, PROJECT_SIZE } from \"../lib\";\nimport { ProjectContext } from \"../context\";\nimport {\n  useMeasure,\n  useMountEffect,\n  useProject,\n  useSkewAnimation,\n  useWindows,\n} from \"../hooks\";\nimport ScrollBar from \"./scrollbar\";\n\nimport \"./projectIcon.scss\";\n\nconst HOVER_SCALE = 1.4;\nconst CLICK_SCALE = 1.2;\nconst INITIAL_SCALE = 1;\n\ninterface ProjectIconProps {\n  id: string;\n}\n\nexport const ProjectIcon: React.FC<ProjectIconProps> = ({ id }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const isDragSession = useRef(false);\n\n  const [\n    { icon, iconContent, backgroundColor, foregroundColor, ...rest },\n    [initialX, initialY, initialZoom],\n  ] = useProject(id);\n\n  const [{ height: contentHeight }] = useMeasure(contentRef);\n\n  const [{ visible }, setVisible] = useSpring(() => ({ visible: true }));\n  const [{ xy, rz, scroll, zoom, scale }, set] = useSpring(() => ({\n    xy: [0, 0],\n    rz: 0,\n    scroll: 0,\n    zoom: 0,\n    scale: INITIAL_SCALE,\n  }));\n\n  useMountEffect(() => {\n    set({ zoom: initialZoom });\n  });\n\n  const { sourceRef, openWindow } = useWindows({\n    window: { id, icon, backgroundColor, foregroundColor, ...rest },\n    handlers: {\n      onOpen: () => setVisible({ visible: false, immediate: true }),\n      onClose: () => setVisible({ visible: true, immediate: true }),\n    },\n  });\n\n  const handleOnClick = () => {\n    if (!isDragSession.current) {\n      openWindow();\n    }\n  };\n\n  const position = xy.to((x, y) => [x + initialX, y + initialY]);\n\n  const { rotation, resetRotation, onHover, onMove } = useSkewAnimation({\n    ref: containerRef,\n  });\n\n  useGesture(\n    {\n      onMove,\n      onHover: ({ active, ...rest }) => {\n        if (!active) {\n          setIsHovered(false);\n          set({ scroll: 0, scale: INITIAL_SCALE });\n        } else {\n          setIsHovered(true);\n          set({\n            scale: HOVER_SCALE,\n          });\n        }\n\n        onHover({ active, ...rest });\n      },\n      onDrag: ({ offset: [x, y], first }) => {\n        if (first) {\n          isDragSession.current = true;\n          resetRotation();\n        }\n\n        set({ xy: [x, y] });\n      },\n      onDragEnd: () => {\n        set({ scale: HOVER_SCALE });\n      },\n      onMouseDown: () => {\n        set({ scale: CLICK_SCALE });\n      },\n      onMouseUp: () => {\n        set({ scale: HOVER_SCALE });\n        setTimeout(() => {\n          isDragSession.current = false;\n        }, 1);\n      },\n      onWheel: ({ hovering, delta: [, dy] }) => {\n        if (hovering) {\n          const next = Math.min(\n            Math.max(scroll.get() - dy * 5, -contentHeight + PROJECT_SIZE),\n            0\n          );\n          set({ scroll: next });\n        }\n      },\n    },\n    {\n      domTarget: containerRef,\n      eventOptions: { passive: true },\n      drag: { threshold: 5 },\n    }\n  );\n\n  useGesture(\n    {\n      onPinch: ({ offset: [d, a] }) => {\n        set({ zoom: d / 200, rz: a });\n      },\n    },\n    { domTarget: containerRef, eventOptions: { passive: false } }\n  );\n\n  const contentTransform = scroll.to((val) => `translateY(${val}px)`);\n  const containerTransform = to(\n    [\n      position.to((x, y) => `translate(${x}px, ${y}px)`),\n      to([zoom, scale], (z, s) => `scale(${z + s})`),\n      to([rotation, rz], (rxy, rz) => `${rxy} rotateZ(${rz}deg)`),\n    ],\n    (t, s, r) => `${t} ${s} ${r}`\n  );\n\n  const pointerEvents = visible.to((visible) => (visible ? \"all\" : \"none\"));\n  const opacity = visible.to((visible) => (visible ? 1 : 0));\n\n  const ClassPrefix = \"project-icon\";\n  return (\n    <animated.div\n      ref={setMultipleRefs(sourceRef, containerRef)}\n      className={cn(ClassPrefix, isHovered && `${ClassPrefix}__shadow`)}\n      onClick={handleOnClick}\n      style={{\n        transform: containerTransform,\n        pointerEvents,\n        // @ts-ignore\n        opacity,\n        \"--project-background\": backgroundColor,\n        \"--project-foreground\": foregroundColor,\n      }}\n    >\n      <animated.div\n        className={`${ClassPrefix}__content`}\n        ref={contentRef}\n        style={{ transform: contentTransform }}\n      >\n        <img\n          className={`${ClassPrefix}__image`}\n          draggable={false}\n          alt={`${id} icon`}\n          src={icon}\n        />\n        {iconContent}\n      </animated.div>\n      <ScrollBar\n        offset={scroll}\n        contentHeight={contentHeight - PROJECT_SIZE}\n        visible={isHovered}\n      />\n    </animated.div>\n  );\n};\n\nexport const ProjectIcons: React.FC = () => {\n  const { projects } = useContext(ProjectContext);\n  return (\n    <>\n      {Object.keys(projects).map((id, idx) => (\n        <ProjectIcon key={id} id={id} />\n      ))}\n    </>\n  );\n};\n","// import { useRef } from \"react\";\nimport { useSpring, animated } from \"react-spring\";\n\nimport { useCursorEvents } from \"../hooks\";\nimport \"./cursor.scss\";\n\nconst CURSOR_SIZE = 10;\nconst ClassPrefix = \"cursor\";\n\n/* some utility functions */\n// const getDiffX = (rect: Rect, x: number) => {\n//   const { x: left, width } = rect;\n//   return left + width / 2 - x;\n// };\n\n// const getDiffY = (rect: Rect, y: number) => {\n//   const { y: top, height } = rect;\n//   return top + height / 2 - y;\n// };\n\n// const getDiff = (rect: Rect, [x, y]: Point2D): Point2D => [\n//   getDiffX(rect, x),\n//   getDiffY(rect, y),\n// ];\n\n// const getCenter = (rect: Rect): Point2D => [\n//   rect.left + rect.width / 2,\n//   rect.top + rect.height / 2,\n// ];\n\nexport const Cursor: React.FC = () => {\n  // const targetWasDragged = useRef(false);\n  const [cursorStyle] = useSpring(() => ({\n    offsetX: 0,\n    offsetY: 0,\n    width: CURSOR_SIZE,\n    height: CURSOR_SIZE,\n  }));\n  // const offsetX = useMotionValue(0);\n  // const offsetY = useMotionValue(0);\n  // const width = useMotionValue(CURSOR_SIZE);\n  // const height = useMotionValue(CURSOR_SIZE);\n\n  const { position } = useCursorEvents({\n    // onLock: ({ target }) => {\n    //   targetWasDragged.current = false;\n    //   const { rect, scale = 1 } = target;\n    //   const [x, y] = position.get();\n    //   const [diffX, diffY] = getDiff(rect, [x, y]);\n    //   const offsetX = cursorStyle.offsetX.get();\n    //   const offsetY = cursorStyle.offsetY.get();\n    //   console.log({ offsetX: offsetX - diffX, offsetY: offsetY - diffY });\n    //   set({\n    //     offsetX: offsetX - diffX,\n    //     offsetY: offsetY - diffY,\n    //     config: { duration: 0 },\n    //   });\n    //   set({\n    //     offsetX: 0, //offsetX - diffX,\n    //     offsetY: 0, //offsetY - diffY,\n    //     height: rect.height * (scale + 0.1),\n    //     width: rect.width * (scale + 0.1),\n    //   });\n    // },\n    // onUnlock: ({ target }) => {\n    //   targetWasDragged.current = false;\n    //   const { rect } = target;\n    //   const [x, y] = position.get();\n    //   const [diffX, diffY] = getDiff(rect, [x, y]);\n    //   const offsetX = cursorStyle.offsetX.get();\n    //   const offsetY = cursorStyle.offsetY.get();\n    //   set({\n    //     offsetX: offsetX + diffX,\n    //     offsetY: offsetY + diffY,\n    //     config: { duration: 0 },\n    //   });\n    //   set({ offsetX: 0, offsetY: 0, height: CURSOR_SIZE, width: CURSOR_SIZE });\n    //   // const diff = getDiff(rect, { x: x.get(), y: y.get() });\n    //   // offsetX.set(offsetX.get() + diff.x);\n    //   // offsetY.set(offsetY.get() + diff.y);\n    //   // animate(offsetX, 0, offsetTransition);\n    //   // animate(offsetY, 0, offsetTransition);\n    //   // animate(height, CURSOR_SIZE, sizeTransition);\n    //   // animate(width, CURSOR_SIZE, sizeTransition);\n    // },\n  });\n\n  const transform = (prevX: number, prevY: number) => {\n    // const rect = target.current?.rect;\n    // const throttle = target.current?.throttle ?? true;\n    // const draggable = target.current?.draggable;\n    // const isPressed = !!pressed.current;\n\n    let x = prevX;\n    let y = prevY;\n\n    // const offsetX = cursorStyle.offsetX.get();\n    // const offsetY = cursorStyle.offsetY.get();\n\n    return `translate(${x}px, ${y}px)`;\n  };\n\n  const lockedX = (x: number) => {\n    return x;\n  };\n\n  const lockedY = (y: number) => {\n    return y;\n  };\n\n  return (\n    <animated.div\n      className={`${ClassPrefix}__container`}\n      style={{ transform: position.to(transform), ...cursorStyle }}\n    >\n      <animated.div\n        style={{\n          translateX: cursorStyle.offsetX.to(lockedX),\n          translateY: cursorStyle.offsetY.to(lockedY),\n        }}\n        className={`${ClassPrefix}__content`}\n      />\n    </animated.div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/paint_party.a85616bc.png\";","export default __webpack_public_path__ + \"static/media/unexpected.88465abb.png\";","export default __webpack_public_path__ + \"static/media/herd.540e2851.png\";","export default __webpack_public_path__ + \"static/media/evently.a4e85f0b.png\";","export default __webpack_public_path__ + \"static/media/sesh.a6fbd4c2.png\";","export default __webpack_public_path__ + \"static/media/accordion.06783b19.png\";","export default __webpack_public_path__ + \"static/media/twitterlytics.344b6b45.png\";","export default __webpack_public_path__ + \"static/media/website.bae8dfe8.png\";","export default __webpack_public_path__ + \"static/media/photography.67dd221d.png\";","import { SVGProps } from \"react\";\n\ninterface Props extends SVGProps<SVGSVGElement> {}\n\nconst Close: React.FC<Props> = (props) => (\n  <svg width=\"7\" height=\"7\" viewBox=\"0 0 7 7\" fill=\"none\" {...props}>\n    <line\n      x1=\"0\"\n      y1=\"0\"\n      x2=\"7\"\n      y2=\"7\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1\"\n      strokeLinecap=\"round\"\n    />\n    <line\n      x1=\"0\"\n      y1=\"7\"\n      x2=\"7\"\n      y2=\"0\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n\nconst Corner: React.FC<Props> = (props) => (\n  <svg\n    width=\"10\"\n    height=\"10\"\n    viewBox=\"0 0 10 10\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      x=\"0\"\n      y=\"0\"\n      width=\"10\"\n      height=\"10\"\n      rx=\"2\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    />\n  </svg>\n\n  // <svg\n  //   width=\"10\"\n  //   height=\"10\"\n  //   viewBox=\"0 0 10 10\"\n  //   className={className}\n  //   transform={transform}\n  // >\n  //   <rect width=\"10\" height=\"1\" fill=\"currentColor\" />\n  //   <rect width=\"1\" height=\"10\" fill=\"currentColor\" />\n  // </svg>\n);\n\nconst Expand: React.FC<Props> = (props) => (\n  <svg width=\"18\" height=\"17\" viewBox=\"0 0 18 17\" fill=\"none\" {...props}>\n    <path\n      d=\"M3.33071 13.6693L3.65799 7.57299L9.42698 13.342L3.33071 13.6693Z\"\n      fill=\"currentcolor\"\n    />\n    <path\n      d=\"M14.3422 3.33073L14.0149 9.427L8.24592 3.65801L14.3422 3.33073Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport const SVG = {\n  Close,\n  Corner,\n  Expand,\n};\n","import paintParty from \"./paint_party.png\";\nimport unexpected from \"./unexpected.png\";\nimport herd from \"./herd.png\";\nimport evently from \"./evently.png\";\nimport sesh from \"./sesh.png\";\nimport resume from \"./resume.png\";\nimport screentime from \"./screentime.png\";\nimport accordion from \"./accordion.png\";\nimport twitterlytics from \"./twitterlytics.png\";\nimport website from \"./website.png\";\nimport photography from \"./photography.png\";\n\nconst Icons = {\n  paintParty,\n  screentime,\n  unexpected,\n  resume,\n  herd,\n  evently,\n  sesh,\n  accordion,\n  twitterlytics,\n  website,\n  photography,\n};\n\nexport default Icons;\n\nexport { SVG } from \"./svg\";\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { memo, useRef } from \"react\";\nimport { animated, useSpring, to } from \"react-spring\";\nimport { useGesture } from \"react-use-gesture\";\n\nimport { SVG } from \"../assets/icons\";\nimport { useSkewAnimation, useMeasure, useMountEffect } from \"../hooks\";\nimport { WindowConfig } from \"../context\";\nimport { clamp, PROJECT_SIZE } from \"../lib\";\nimport \"./window.scss\";\n\ninterface WindowProps extends WindowConfig {\n  onRequestClose: () => void;\n  destroyWindow: () => void;\n}\n\nconst WINDOW_WIDTH = 500;\nconst WINDOW_HEIGHT = 400;\nconst WINDOW_MARGIN = 20;\n\nconst getNextOffset = (\n  prevOffset: number,\n  prevSize: number,\n  nextSize: number,\n  container: number\n) => {\n  const diff = (nextSize - prevSize) / 2;\n  let nextOffset = prevOffset - diff;\n  if (nextOffset + nextSize > container) {\n    nextOffset = nextOffset - diff;\n  }\n  return nextOffset < 0 ? prevOffset : nextOffset;\n};\n\nconst cn = \"window\";\nexport const Window: React.FC<WindowProps> = memo(\n  ({\n    id,\n    onRequestClose,\n    destroyWindow,\n    sourceRef,\n    content,\n    aspectRatio,\n    icon,\n    backgroundColor,\n    foregroundColor,\n  }) => {\n    const contentRef = useRef<HTMLDivElement>(null);\n    const windowRef = useRef<HTMLDivElement>(null);\n    const isClosing = useRef(false);\n\n    const [, measureSourceRect] = useMeasure(sourceRef, false);\n\n    const initialWidth = WINDOW_WIDTH;\n    const initialHeight = aspectRatio\n      ? initialWidth * aspectRatio\n      : WINDOW_HEIGHT;\n\n    /* functions in case the window size changes*/\n    const getMaxSize = (innerWidth: number, innerHeight: number) => [\n      aspectRatio\n        ? aspectRatio * innerWidth > innerHeight\n          ? (innerHeight - WINDOW_MARGIN) / aspectRatio\n          : innerWidth - WINDOW_MARGIN\n        : innerWidth - WINDOW_MARGIN,\n      aspectRatio\n        ? aspectRatio * innerWidth > innerHeight\n          ? innerHeight - WINDOW_MARGIN\n          : aspectRatio * (innerWidth - WINDOW_MARGIN)\n        : innerHeight - WINDOW_MARGIN,\n    ];\n\n    const initialRect = measureSourceRect();\n    const [\n      { openAmount, width, height, scaleX, scaleY, offsetX, offsetY },\n      set,\n      stop,\n    ] = useSpring(() => ({\n      openAmount: 0,\n      offsetX: initialRect.x,\n      offsetY: initialRect.y,\n      scaleX: initialRect.width / initialWidth,\n      scaleY: initialRect.height / initialHeight,\n      width: initialWidth,\n      height: initialHeight,\n    }));\n\n    useMountEffect(() => {\n      set({\n        openAmount: 1,\n        offsetX: (window.innerWidth - width.get()) / 2,\n        offsetY: (window.innerHeight - height.get()) / 2,\n        scaleX: 1,\n        scaleY: 1,\n      });\n    });\n\n    const { resetRotation, rotation, onMove, onHover } = useSkewAnimation({\n      ref: windowRef,\n      throttle: 7,\n    });\n\n    useGesture(\n      {\n        onHover,\n        onMove: (ev) => {\n          if (!isClosing.current) {\n            onMove(ev);\n          }\n        },\n        onDrag: ({ first, delta: [x, y] }) => {\n          if (first) {\n            resetRotation();\n          }\n\n          const nextOffsetX = offsetX.get() + x;\n          const nextOffsetY = offsetY.get() + y;\n          const currentWidth = width.get();\n          const currentHeight = height.get();\n\n          if (\n            currentWidth + nextOffsetX < window.innerWidth &&\n            nextOffsetX > 0\n          ) {\n            offsetX.set(nextOffsetX);\n          }\n\n          if (\n            currentHeight + nextOffsetY < window.innerHeight &&\n            nextOffsetY > 0\n          ) {\n            offsetY.set(nextOffsetY);\n          }\n        },\n      },\n      { domTarget: contentRef, eventOptions: { passive: true } }\n    );\n\n    useGesture(\n      {\n        onPinch: ({ delta: [, d], velocities: [vd], canceled, cancel }) => {\n          if (canceled || isClosing.current) return;\n\n          const prevWidth = width.get();\n          const prevHeight = height.get();\n\n          const s = 1 - d / 50;\n\n          const { innerWidth, innerHeight } = window;\n\n          const [maxWidth, maxHeight] = getMaxSize(innerWidth, innerHeight);\n          const nextWidth = clamp(prevWidth * s, initialWidth, maxWidth);\n          const nextHeight = clamp(prevHeight * s, initialHeight, maxHeight);\n\n          if (\n            vd < 0 &&\n            nextHeight === initialHeight &&\n            nextWidth === initialWidth\n          ) {\n            close();\n            cancel();\n          } else {\n            set({\n              offsetX: getNextOffset(\n                offsetX.get(),\n                prevWidth,\n                nextWidth,\n                innerWidth\n              ),\n              offsetY: getNextOffset(\n                offsetY.get(),\n                prevHeight,\n                nextHeight,\n                innerHeight\n              ),\n              width: nextWidth,\n              height: nextHeight,\n              immediate: true,\n            });\n          }\n        },\n      },\n      { domTarget: contentRef, eventOptions: { passive: false } }\n    );\n\n    const close = () => {\n      isClosing.current = true;\n\n      // stop width and height to get proper measurements below.\n      stop([\"width\", \"height\"]);\n\n      onRequestClose();\n      resetRotation();\n      requestAnimationFrame(() => {\n        const destRect = measureSourceRect();\n        if (destRect) {\n          const scaleXDest = destRect.width / width.get();\n          const scaleYDest = destRect.height / height.get();\n\n          set({\n            openAmount: 0,\n            offsetX: destRect.x,\n            offsetY: destRect.y,\n            scaleX: scaleXDest,\n            scaleY: scaleYDest,\n          }).then(destroyWindow);\n        }\n      });\n    };\n\n    const translate = to(\n      [offsetX, offsetY],\n      (x, y) => `translate(${x}px, ${y}px)`\n    );\n\n    const contentTransform = to(\n      [scaleX, scaleY],\n      (scaleX, scaleY) => `scale(${scaleX}, ${scaleY})`\n    );\n\n    const iconTransform = to(\n      [width, height, scaleX, scaleY],\n      (width, height, scaleX, scaleY) =>\n        `scale(\n          ${(width / PROJECT_SIZE) * scaleX}, \n          ${(height / PROJECT_SIZE) * scaleY}\n        )`\n    );\n\n    const iconOpacity = openAmount.to({\n      range: [0, 0.75],\n      output: [1, 0],\n    });\n\n    const contentOpacity = openAmount.to({\n      range: [0, 0.1, 0.5],\n      output: [0, 0, 1],\n    });\n\n    return (\n      <animated.div\n        ref={windowRef}\n        className={`${cn}__container`}\n        style={{ width, height, transform: translate }}\n      >\n        <animated.img\n          className={`${cn}__icon`}\n          alt={`${id} project-icon`}\n          style={{\n            // @ts-ignore\n            opacity: iconOpacity,\n            transform: iconTransform,\n          }}\n          src={icon}\n        />\n        <animated.div className={cn} style={{ transform: contentTransform }}>\n          <animated.div\n            ref={contentRef}\n            className={`${cn}__content`}\n            style={{\n              // @ts-ignore\n              opacity: contentOpacity,\n              transform: rotation,\n              \"--project-background\": backgroundColor,\n              \"--project-foreground\": foregroundColor,\n            }}\n          >\n            {content}\n            <SVG.Close className={`${cn}__close`} onClick={close} />\n          </animated.div>\n        </animated.div>\n      </animated.div>\n    );\n  },\n  (p, n) => p.id === n.id\n);\n","export default __webpack_public_path__ + \"static/media/resume.3d4ad7a7.png\";","export default __webpack_public_path__ + \"static/media/canvases.197834f5.png\";","export default __webpack_public_path__ + \"static/media/color_editor.45f29227.png\";","export default __webpack_public_path__ + \"static/media/draw.67af5dd3.png\";","export default __webpack_public_path__ + \"static/media/gallery.c39cabcd.png\";","export default __webpack_public_path__ + \"static/media/join.7e359324.png\";","export default __webpack_public_path__ + \"static/media/deep-sea.ad8cca32.gif\";","export default __webpack_public_path__ + \"static/media/form_1.e30f6e10.png\";","export default __webpack_public_path__ + \"static/media/tooltip_1.1c5f81e6.png\";","export default __webpack_public_path__ + \"static/media/tooltip_2.2fef1827.png\";","export default __webpack_public_path__ + \"static/media/viz_1.c4c01097.png\";","import resume from \"./resume.png\";\n\nimport paintpartyCanvases from \"./paint-party/canvases.png\";\nimport paintpartyColorEditor from \"./paint-party/color_editor.png\";\nimport paintpartyDraw from \"./paint-party/draw.png\";\nimport paintpartyGallery from \"./paint-party/gallery.png\";\nimport paintpartyJoin from \"./paint-party/join.png\";\nimport paintpartyDeepSea from \"./paint-party/deep-sea.gif\";\n\nimport screentimeForm1 from \"./screentime/form_1.png\";\nimport screentimeTooltip1 from \"./screentime/tooltip_1.png\";\nimport screentimeTooltip2 from \"./screentime/tooltip_2.png\";\nimport screentimeViz1 from \"./screentime/viz_1.png\";\nimport screentimeViz2 from \"./screentime/viz_2.png\";\nimport screentimeGenerate from \"./screentime/generate.png\";\n\nimport websiteGraphics from \"./website/graphics.jpeg\";\nimport websitePhotos from \"./website/photos.jpeg\";\nimport websiteDesign from \"./website/design.jpeg\";\n\nimport accordionCover from \"./accordion/cover.png\";\nimport accordion1 from \"./accordion/1.png\";\nimport accordion2 from \"./accordion/2.png\";\nimport accordion3 from \"./accordion/3.png\";\nimport accordion4 from \"./accordion/4.png\";\nimport accordion5 from \"./accordion/5.png\";\nimport accordion6 from \"./accordion/6.png\";\nimport accordion7 from \"./accordion/7.png\";\nimport accordion8 from \"./accordion/8.png\";\nimport accordionFull from \"./accordion/full.png\";\n\nconst ProjectAssets = {\n  resume,\n\n  paintpartyCanvases,\n  paintpartyColorEditor,\n  paintpartyDraw,\n  paintpartyGallery,\n  paintpartyJoin,\n  paintpartyDeepSea,\n\n  screentimeForm1,\n  screentimeTooltip1,\n  screentimeTooltip2,\n  screentimeViz2,\n  screentimeGenerate,\n  screentimeViz1,\n\n  websiteGraphics,\n  websitePhotos,\n  websiteDesign,\n\n  accordionCover,\n  accordion1,\n  accordion2,\n  accordion3,\n  accordion4,\n  accordion5,\n  accordion6,\n  accordion7,\n  accordion8,\n  accordionFull,\n};\n\nexport default ProjectAssets;\n","export default __webpack_public_path__ + \"static/media/viz_2.688506a4.png\";","export default __webpack_public_path__ + \"static/media/generate.3554158f.png\";","export default __webpack_public_path__ + \"static/media/graphics.f0017589.jpeg\";","export default __webpack_public_path__ + \"static/media/photos.7a9ec905.jpeg\";","export default __webpack_public_path__ + \"static/media/design.8ecf8703.jpeg\";","export default __webpack_public_path__ + \"static/media/cover.4210f14c.png\";","export default __webpack_public_path__ + \"static/media/1.db80918b.png\";","export default __webpack_public_path__ + \"static/media/2.9b2b28c3.png\";","export default __webpack_public_path__ + \"static/media/3.44ab08fb.png\";","export default __webpack_public_path__ + \"static/media/4.78dc3f0d.png\";","export default __webpack_public_path__ + \"static/media/5.0b539723.png\";","export default __webpack_public_path__ + \"static/media/6.9a468953.png\";","export default __webpack_public_path__ + \"static/media/7.1ad93462.png\";","export default __webpack_public_path__ + \"static/media/8.95bde055.png\";","export default __webpack_public_path__ + \"static/media/full.4f332e00.png\";","import { animated } from \"react-spring\";\nimport \"./gallery.scss\";\n\ntype Image = {\n  src: string;\n  caption?: string;\n};\n\nexport interface GalleryProps {\n  images: Image[];\n}\n\nconst ClassPrefix = \"gallery\";\n\nconst GalleryImage: React.FC<Image> = ({ src, caption = \"\" }) => {\n  return (\n    <img\n      className={`${ClassPrefix}__image`}\n      draggable={false}\n      src={src}\n      alt={caption}\n    />\n  );\n};\n\nconst Gallery: React.FC<GalleryProps> = ({ images }) => {\n  return (\n    <animated.div className={ClassPrefix}>\n      {images.map((image, idx) => (\n        <GalleryImage key={idx} {...image} />\n      ))}\n    </animated.div>\n  );\n};\n\nexport default Gallery;\n","import { Icons, ProjectAssets } from \"../assets\";\nimport { Project } from \"../types\";\nimport Gallery, { GalleryProps } from \"./gallery\";\nimport \"./projects.scss\";\n\nconst ClassPrefix = \"project\";\n\nconst IconContentContainer: React.FC = ({ children }) => (\n  <div className={`${ClassPrefix}__icon-content`}>{children}</div>\n);\n\nconst Container: React.FC = ({ children }) => (\n  <div className={`${ClassPrefix}__container`}>{children}</div>\n);\n\ntype HeaderProps = {\n  title: string;\n  subtitle: string;\n} & LinksProps;\n\nconst Header: React.FC<HeaderProps> = ({ title, subtitle, links }) => (\n  <div className={`${ClassPrefix}__header`}>\n    <div>\n      <h1>{title}</h1>\n      <h2>{subtitle}</h2>\n    </div>\n    <Links links={links} />\n  </div>\n);\n\ntype LinksProps = { links: { title: string; uri: string }[] };\nconst Links: React.FC<LinksProps> = ({ links }) => (\n  <div className={`${ClassPrefix}__links`}>\n    {links.map(({ title, uri }) => (\n      <h2\n        key={title}\n        className={`${ClassPrefix}__link`}\n        onClick={() => window.open(uri)}\n      >\n        {title}\n      </h2>\n    ))}\n  </div>\n);\n\ntype ProjectContentProps = HeaderProps & GalleryProps & { copy?: string[] };\nconst ProjectContent: React.FC<ProjectContentProps> = ({\n  images,\n  links,\n  title,\n  subtitle,\n  copy = [],\n}) => (\n  <Container>\n    <Gallery images={images} />\n    <Header title={title} subtitle={subtitle} links={links} />\n    <div className={`${ClassPrefix}__body`}>\n      {copy.map((p, idx) => (\n        <p key={idx}>{p}</p>\n      ))}\n    </div>\n  </Container>\n);\n\ntype ProjectIconContentProps = {\n  title?: string;\n  subtitle?: string;\n  copy?: string[];\n};\nconst ProjectIconContent: React.FC<ProjectIconContentProps> = ({\n  title,\n  subtitle,\n  copy = [],\n}) => (\n  <IconContentContainer>\n    {title && <h2>{title}</h2>}\n    {subtitle && <h3>{subtitle}</h3>}\n    {copy.map((p, idx) => (\n      <p key={idx}>{p}</p>\n    ))}\n  </IconContentContainer>\n);\n\nexport const projects: { [id: string]: Project } = {\n  resume: {\n    icon: Icons.resume,\n    aspectRatio: 1.294117647,\n    backgroundColor: \"#FFD60A\",\n    foregroundColor: \"white\",\n    iconContent: (\n      <ProjectIconContent\n        copy={[\n          \"Graduated from Yale in May 2020, currently a software engineer at Retool.\",\n          \"Previously at TrialSpark, Zillow, Snackpass.\",\n        ]}\n      />\n    ),\n    content: (\n      <img\n        className=\"resume\"\n        alt=\"alexi-christakis-resume\"\n        src={ProjectAssets.resume}\n      />\n    ),\n  },\n  paintparty: {\n    icon: Icons.paintParty,\n    backgroundColor: \"#6236FF\",\n    foregroundColor: \"#D8D8D8\",\n    iconContent: (\n      <ProjectIconContent\n        title={\"Paint Party\"}\n        subtitle={\"April 2020\"}\n        copy={[\n          \"Collaborative mobile drawing game. Winner of Yale's Lohmann Design Prize.\",\n          \"TypeScript, React Native, Firebase.\",\n        ]}\n      />\n    ),\n    content: (\n      <ProjectContent\n        title={\"PaintParty\"}\n        subtitle={\"April 2020\"}\n        images={[\n          { src: ProjectAssets.paintpartyDeepSea, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyCanvases, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyColorEditor, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyDraw, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyGallery, caption: \"canvases\" },\n          { src: ProjectAssets.paintpartyJoin, caption: \"canvases\" },\n        ]}\n        links={[\n          { title: \"website\", uri: \"https://paintparty.io\" },\n          {\n            title: \"appstore\",\n            uri: \"https://apps.apple.com/tt/app/paint-party/id1504830265\",\n          },\n        ]}\n        copy={[\n          \"Draw pixel art with your friends in real time. Every canvas offers a unique experience with customizable size, background color, duration, and draw interval\",\n          \"Drawing only colors a single pixel. Each canvas limits how frequently authors draw, so it helps to communicate a plan!\",\n          \"Canvases can be exported to gifs that plot each pixel as it was drawn.\",\n        ]}\n      />\n    ),\n  },\n  unexpected: {\n    icon: Icons.unexpected,\n    backgroundColor: \"#49E020\",\n    foregroundColor: \"\",\n    iconContent: (\n      <ProjectIconContent\n        title={\"Unexpected\"}\n        subtitle={\"March 2020\"}\n        copy={[\n          \"Senior thesis project. A photo sharing app that limits how often & when users can post.\",\n          \"TypeScript, React Native, NodeJS, MongoDB.\",\n        ]}\n      />\n    ),\n    content: (\n      <ProjectContent\n        title={\"Unexpected\"}\n        subtitle={\"March 2020\"}\n        images={[]}\n        links={[\n          {\n            uri: \"https://github.com/alexichristakis/unexpected\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n  },\n  screentime: {\n    backgroundColor: \"#007FFF\",\n    foregroundColor: \"#D6EAFF\",\n    icon: Icons.screentime,\n    content: (\n      <ProjectContent\n        title={\"Screentime\"}\n        subtitle={\"October 2019\"}\n        images={[\n          { src: ProjectAssets.screentimeForm1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeViz1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeTooltip1, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeGenerate, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeViz2, caption: \"canvases\" },\n          { src: ProjectAssets.screentimeTooltip2, caption: \"canvases\" },\n        ]}\n        links={[\n          {\n            title: \"website\",\n            uri: \"https://screentime-525d7.firebaseapp.com\",\n          },\n          {\n            title: \"code\",\n            uri: \"https://screentime-525d7.firebaseapp.com\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title={\"Screentime\"}\n        subtitle={\"October 2019\"}\n        copy={[\n          \"Class project that generates a visualization of iOS screentime metrics. To better illustrate our behaviors.\",\n          \"React, Processing.\",\n        ]}\n      />\n    ),\n  },\n  accordion: {\n    icon: Icons.accordion,\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    content: (\n      <ProjectContent\n        title=\"Accordion\"\n        subtitle=\"March 2019\"\n        images={[\n          { src: ProjectAssets.accordionCover },\n          { src: ProjectAssets.accordion1 },\n          { src: ProjectAssets.accordion2 },\n          { src: ProjectAssets.accordion3 },\n          { src: ProjectAssets.accordion4 },\n          { src: ProjectAssets.accordion5 },\n          { src: ProjectAssets.accordion6 },\n          { src: ProjectAssets.accordion7 },\n          { src: ProjectAssets.accordion8 },\n          { src: ProjectAssets.accordionFull },\n        ]}\n        links={[\n          {\n            uri:\n              \"https://drive.google.com/open?id=15JZi0SyjlQCUvVDhd-Ar48Kdcz5iSe1w\",\n            title: \"pdf\",\n          },\n        ]}\n        copy={[\n          \"Project done for ART 469b: Advanced Graphic Design. Students chose a designer to write about in an 'accordion' format restricted only by the limitation of printing on a single side.\",\n          \"My accordion (on Ralph Schraivogel) contains 5 sections: training & work, stylistic regularities, influence & context, Henry Van de Velde, and grayscale series. I designed the folding to accomodate a variety of opening possibilities which each allow for a different experience. The final product was produced on an Epson Inkjet large-format printer.\",\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title={\"Accordion\"}\n        subtitle={\"March 2019\"}\n        copy={[\n          \"Advanced Graphic Design mid-term project. An interactive accordion fold to view panes in many different combinations.\",\n        ]}\n      />\n    ),\n  },\n  photos: {\n    backgroundColor: \"#008CA6\",\n    foregroundColor: \"\",\n    icon: Icons.photography,\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent title=\"Photography\" copy={[\"Selected photos.\"]} />\n    ),\n  },\n  herd: {\n    icon: Icons.herd,\n    backgroundColor: \"#872BD2\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title={\"Herd\"}\n        subtitle={\"Summer 2019\"}\n        copy={[\n          \"Socialized location sharing. Emphasis on large groups & anonymous background location sharing.\",\n          \"React Native, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  evently: {\n    icon: Icons.evently,\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title=\"Evently\"\n        subtitle={\"Spring 2018\"}\n        copy={[\n          \"Software Engineering class project. Event API aggregator with card-swiping interface.\",\n          \"React Native, NodeJS, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  sesh: {\n    icon: Icons.sesh,\n    backgroundColor: \"#865EFF\",\n    foregroundColor: \"\",\n    content: <div>hello!</div>,\n    iconContent: (\n      <ProjectIconContent\n        title=\"Sesh\"\n        subtitle=\"Summer 2018\"\n        copy={[\n          \"Event-based social app. Quickly notify friends of adhoc events.\",\n          \"React Native, Firebase.\",\n        ]}\n      />\n    ),\n  },\n  twitterlytics: {\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    icon: Icons.twitterlytics,\n    content: (\n      <ProjectContent\n        title=\"Twitterlytics\"\n        subtitle=\"December 2018\"\n        images={[]}\n        links={[\n          { uri: \"https://bertha-ecf12.firebaseapp.com\", title: \"website\" },\n          {\n            uri: \"https://github.com/alexichristakis/project-bertha\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title=\"Twitterlytics\"\n        subtitle=\"December 2018\"\n        copy={[\n          \"Dashboard for generating NLP reports on a twitter user. Sentiment score and content analysis.\",\n          \"React, Python, NLTK.\",\n        ]}\n      />\n    ),\n  },\n  website: {\n    backgroundColor: \"\",\n    foregroundColor: \"\",\n    icon: Icons.website,\n    content: (\n      <ProjectContent\n        title=\"Portfolio\"\n        subtitle=\"January 2018\"\n        images={[\n          { src: ProjectAssets.websiteGraphics, caption: \"graphics\" },\n          { src: ProjectAssets.websiteDesign, caption: \"design\" },\n          { src: ProjectAssets.websitePhotos, caption: \"photos\" },\n        ]}\n        links={[\n          { uri: \"https://alexi.site\", title: \"website\" },\n          {\n            uri: \"https://github.com/alexichristakis/personal-site\",\n            title: \"code\",\n          },\n        ]}\n      />\n    ),\n    iconContent: (\n      <ProjectIconContent\n        title=\"Personal Site\"\n        copy={[\"The old version of this website.\"]}\n      />\n    ),\n  },\n} as const;\n","import { createContext, useMemo } from \"react\";\n\nimport { Project, Vector2D, Vector3D } from \"../types\";\nimport { projects } from \"../components\";\nimport { clamp, PROJECT_SIZE } from \"../lib\";\n\ntype Projects = {\n  [key: string]: Project;\n};\n\ntype Positions = {\n  [key: string]: Vector3D;\n};\n\ntype ProjectContextShape = {\n  projects: Projects;\n  initialPositions: Positions;\n};\n\nexport const ProjectContext = createContext({} as ProjectContextShape);\n\nconst MARGIN = 40;\n\nconst NUM_PER_ROW = Math.floor(window.innerWidth / (PROJECT_SIZE + MARGIN * 2));\n\nconst b = (val: number, low: number, high: number) => val >= low && val <= high;\n\nconst overlap = ([x1, y1, z1]: Vector3D, [x2, y2, z2]: Vector3D): boolean => {\n  const right = x1 + PROJECT_SIZE * (z1 + 1);\n  const right2 = x2 + PROJECT_SIZE * (z2 + 1);\n\n  const bottom = y1 + PROJECT_SIZE * (z1 + 1);\n  const bottom2 = y2 + PROJECT_SIZE * (z2 + 1);\n\n  if (\n    (b(right, x2, right2) || b(x1, x2, right2)) &&\n    (b(bottom, y2, bottom2) || b(y1, y2, bottom2))\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nconst getDiff = (\n  [left1, top1, z1]: Vector3D,\n  [left2, top2, z2]: Vector3D\n): Vector2D => {\n  const right1 = left1 + PROJECT_SIZE * (z1 + 1);\n  const right2 = left2 + PROJECT_SIZE * (z2 + 1);\n\n  const bottom1 = top1 + PROJECT_SIZE * (z1 + 1);\n  const bottom2 = top2 + PROJECT_SIZE * (z2 + 1);\n\n  return [\n    left2 > left1 && left2 < right1\n      ? Math.min(left2 - left1, left2 - right1)\n      : right2 > left1 && right2 < right1\n      ? Math.min(right2 - left1, right2 - right1)\n      : 0,\n    top2 > top1 && top2 < bottom1\n      ? Math.min(top2 - top1, top2 - bottom1)\n      : bottom2 > top1 && bottom2 < bottom1\n      ? Math.min(bottom2 - top1, bottom2 - bottom1)\n      : 0,\n  ];\n};\n\nconst random = (scale: number) => (Math.random() - 0.5) * scale;\n\nconst getPosition = (index: number, positions: Positions): Vector3D => {\n  const z = random(0.5);\n\n  // get the grid position\n  let [x, y] = getInitialPosition(index);\n\n  const size = (z + 1) * PROJECT_SIZE;\n  const maxX = window.innerWidth - MARGIN - size;\n  const maxY = window.innerHeight - MARGIN - size;\n\n  // move it randomly\n  const p1: Vector3D = [\n    clamp(x + random(100), MARGIN, maxX),\n    clamp(y + random(100), MARGIN, maxY),\n    z,\n  ];\n\n  Object.values(positions).forEach((p2) => {\n    if (overlap(p1, p2)) {\n      // nudge\n      const [diffX, diffY] = getDiff(p1, p2);\n      p1[0] = clamp(x + diffX, MARGIN, maxX);\n      p1[1] = clamp(y + diffY, MARGIN, maxY);\n    }\n  });\n\n  return p1;\n};\n\n/**\n * converts a project index into it's position in a grid\n */\nconst getInitialPosition = (index: number): Vector2D => [\n  // x grid coordinate\n  (index % NUM_PER_ROW) * (PROJECT_SIZE + MARGIN * 2) + MARGIN,\n  // y grid coordinate\n  Math.floor(index / NUM_PER_ROW) * (PROJECT_SIZE + MARGIN * 2) + MARGIN,\n];\n\nexport const ProjectProvider: React.FC = ({ children }) => {\n  const initialPositions = useMemo(\n    () =>\n      Object.keys(projects).reduce((positions, id, idx) => {\n        positions[id] = getPosition(idx, positions);\n\n        return positions;\n      }, {} as Positions),\n    []\n  );\n\n  return (\n    <ProjectContext.Provider value={{ projects, initialPositions }}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n","import { useEffect, EffectCallback } from \"react\";\n\nexport const useMountEffect = (effect: EffectCallback) => {\n  // eslint-disable-next-line\n  useEffect(effect, []);\n};\n","import { useContext } from \"react\";\nimport { CursorStateContext, CursorEvent, CursorEventType } from \"../context\";\nimport { useMountEffect } from \"./useMountEffect\";\n\ntype CursorEventHandlers = {\n  onLock?: (ev: CursorEvent) => void;\n  onUnlock?: (ev: CursorEvent) => void;\n};\n\nexport const useCursorEvents = (handlers: CursorEventHandlers) => {\n  const { subscribe, ...rest } = useContext(CursorStateContext);\n\n  useMountEffect(() => {\n    const unsubscribe = subscribe(({ type, target, position }) => {\n      if (type === CursorEventType.LOCK) {\n        handlers.onLock?.({ type, target, position });\n      }\n\n      if (type === CursorEventType.UNLOCK) {\n        handlers.onUnlock?.({ type, target, position });\n      }\n    });\n\n    return () => unsubscribe();\n  });\n\n  return rest;\n};\n","import { useContext, useRef } from \"react\";\n\nimport {\n  WindowConfig,\n  WindowEventHandlers,\n  WindowManagerContext,\n  WindowState,\n} from \"../context\";\nimport { useMountEffect } from \"./useMountEffect\";\n\nexport type UseWindowConfig = {\n  window: Omit<WindowConfig, \"sourceRef\">;\n  handlers?: WindowEventHandlers;\n};\n\nexport const useWindows = ({ window, handlers }: UseWindowConfig) => {\n  const sourceRef = useRef<HTMLDivElement>(null);\n  const { openWindow, registerWindow, subscribe } = useContext(\n    WindowManagerContext\n  );\n\n  useMountEffect(() => {\n    registerWindow({ ...window, sourceRef });\n\n    const unsubscribe = subscribe((payload) => {\n      const { type, id } = payload;\n\n      if (id === window.id) {\n        if (type === WindowState.OPEN) {\n          handlers?.onOpen?.();\n        }\n        if (type === WindowState.CLOSING) {\n          handlers?.onRequestClose?.();\n        }\n        if (type === WindowState.CLOSED) {\n          handlers?.onClose?.();\n        }\n      }\n    });\n\n    return () => unsubscribe();\n  });\n\n  return {\n    openWindow: () => openWindow(window.id),\n    sourceRef,\n  };\n};\n","import { useCallback, useRef } from \"react\";\n\ntype BasePayload = {};\n\ntype Listener<Payload extends BasePayload> = (payload: Payload) => void;\n\nexport type Events<Payload extends BasePayload> = {\n  send: Listener<Payload>;\n  subscribe: (l: Listener<Payload>) => () => void;\n};\n\nexport const useEvents = <Payload extends BasePayload>(): Events<Payload> => {\n  const listeners = useRef<Listener<Payload>[]>([]);\n\n  const send = useCallback((payload: Payload) => {\n    listeners.current.forEach((listener) => listener?.(payload));\n  }, []);\n\n  const unsubscribe = useCallback((listener?: Listener<Payload>) => {\n    listeners.current = listeners.current.filter((l) => l !== listener);\n  }, []);\n\n  const subscribe = useCallback(\n    (listener: Listener<Payload>) => {\n      listeners.current.push(listener);\n      return () => unsubscribe(listener);\n    },\n    [unsubscribe]\n  );\n\n  return {\n    send,\n    subscribe,\n  };\n};\n","import { useRef } from \"react\";\nimport { Interpolation, to, useSpring } from \"react-spring\";\nimport { GestureKey, Handler } from \"react-use-gesture/dist/types\";\n\nimport { invlerp, INITIAL_RECT } from \"../lib\";\nimport { Vector2D, Rect } from \"../types\";\n\ntype GestureHander<T extends GestureKey> = Handler<\n  T,\n  React.PointerEvent<Element> | PointerEvent\n>;\n\ntype Config = {\n  ref: React.RefObject<HTMLDivElement>;\n  throttle?: number;\n};\n\ntype Return = {\n  resetRotation: () => void;\n  rect: React.RefObject<Rect>;\n  rotation: Interpolation<string, any>;\n  onHover: GestureHander<\"hover\">;\n  onMove: GestureHander<\"move\">;\n};\n\nconst calc = ([px, py]: Vector2D, rect: Rect, throttle: number = 1) => [\n  -(py - rect.y - rect.height / 2) / (20 * throttle),\n  (px - rect.x - rect.width / 2) / (20 * throttle),\n];\n\nexport const useSkewAnimation = ({ ref, throttle = 1 }: Config): Return => {\n  const containerRect = useRef<Rect>(INITIAL_RECT);\n  const sizeThrottle = useRef(0);\n\n  const [{ rotateX, rotateY }, set] = useSpring(() => ({\n    rotateX: 0,\n    rotateY: 0,\n  }));\n\n  const resetRotation = () => set({ rotateX: 0, rotateY: 0 });\n\n  const updateRect = () => {\n    const rect = ref.current?.getBoundingClientRect();\n    if (rect) {\n      const { width, height, x, y } = rect;\n\n      // when items are larger than 750px even small rotations\n      // are quite jarring\n      sizeThrottle.current =\n        invlerp(\n          750,\n          Math.min(window.innerHeight, window.innerWidth),\n          Math.max(width, height)\n        ) * 100;\n\n      containerRect.current = { x, y, width, height };\n    }\n  };\n\n  const rotation = to(\n    [rotateX, rotateY],\n    (rx, ry) => `perspective(600px) rotateX(${rx}deg) rotateY(${ry}deg)`\n  );\n\n  return {\n    resetRotation,\n    rect: containerRect,\n    rotation,\n    onHover: ({ active }) => {\n      if (!active) {\n        set({ rotateX: 0, rotateY: 0 });\n      }\n    },\n    onMove: ({ hovering, dragging, first, xy: [px, py] }) => {\n      if (first) updateRect();\n      if (hovering && !dragging) {\n        const [rotateX, rotateY] = calc(\n          [px, py],\n          containerRect.current,\n          throttle + sizeThrottle.current\n        );\n        set({ rotateX, rotateY });\n      }\n    },\n  };\n};\n","import { useState } from \"react\";\n\nimport { INITIAL_RECT } from \"../lib\";\nimport { Rect } from \"../types\";\nimport { useMountEffect } from \"./useMountEffect\";\n\ntype UseMeasureReturn = [Rect, () => Rect];\n\nexport const useMeasure = (\n  ref: React.RefObject<HTMLElement>,\n  forceRender: boolean = true\n): UseMeasureReturn => {\n  const [rect, setRect] = useState<Rect>(INITIAL_RECT);\n\n  useMountEffect(() => {\n    measure();\n  });\n\n  const measure = () => {\n    const newRect = ref.current?.getBoundingClientRect();\n    if (newRect) {\n      const { x, y, width, height } = newRect;\n      if (forceRender) setRect({ x, y, width, height });\n    }\n\n    return newRect ?? rect;\n  };\n\n  return [rect, measure];\n};\n","import { useContext } from \"react\";\n\nimport { ProjectContext } from \"../context\";\nimport { Project, Vector3D } from \"../types\";\n\nexport const useProject = (id: string): [Project, Vector3D] => {\n  const { projects, initialPositions } = useContext(ProjectContext);\n  return [projects[id], initialPositions[id]];\n};\n","import { CSSProperties } from \"react\";\n\nimport { useGestureOverrides } from \"./hooks\";\nimport {\n  WindowManagerProvider,\n  ProjectProvider,\n  CursorStateProvider,\n} from \"./context\";\nimport { ProjectIcons, Cursor } from \"./components\";\nimport { PROJECT_SIZE, ICON_BORDER_RADIUS } from \"./lib\";\n\nimport \"./App.scss\";\n\nconst App: React.FC = () => {\n  useGestureOverrides();\n\n  return (\n    <CursorStateProvider>\n      <ProjectProvider>\n        <div\n          className=\"app-container\"\n          style={{\n            ...({\n              \"--project-size\": `${PROJECT_SIZE}px`,\n              \"--icon-border-radius\": `${ICON_BORDER_RADIUS}px`,\n            } as CSSProperties),\n          }}\n        >\n          <WindowManagerProvider>\n            <ProjectIcons />\n          </WindowManagerProvider>\n        </div>\n        <Cursor />\n      </ProjectProvider>\n    </CursorStateProvider>\n  );\n};\n\nexport default App;\n","import { useMountEffect } from \"./useMountEffect\";\n\nexport const useGestureOverrides = () => {\n  useMountEffect(() => {\n    const preventDefault = (e: Event) => e.preventDefault();\n    document.addEventListener(\"gesturestart\", preventDefault);\n    document.addEventListener(\"gesturechange\", preventDefault);\n\n    return () => {\n      document.removeEventListener(\"gesturestart\", preventDefault);\n      document.removeEventListener(\"gesturechange\", preventDefault);\n    };\n  });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}